{"version":3,"sources":["component/loading/loading.jsx","component/buttons/action-button.jsx","component/movie-big-card/hooks/use-show-more-classes.jsx","reducers/reducer.jsx","services/api-services.js","action/action-creater.js","contexts/film-context-service.jsx","component/movie-big-card/film-brief.jsx","component/background-image/background-image.jsx","component/video-player/video-player.jsx","utils/utils.js","services/api-users.js","hooks/useUsersService.jsx","constance/authoriazationMessages.js","hooks/useCurrentFilm.jsx","component/movie-big-card/movie-big-card.jsx","hooks/useLocalStorage.jsx","component/header/header.jsx","constance/rote-constance.js","component/footer/footer.jsx","hooks/useCheckUser.jsx","pages/main-page/main-page.jsx","component/tabs-filter/tabs-filter.jsx","component/movie-card-more-info/film-overview.jsx","component/movie-card-more-info/film-details.jsx","component/movie-card-more-info/film-review.jsx","component/movie-card-more-info/Movie-card-more-info.jsx","component/movies-list/movie-card.jsx","component/movies-list/movies-list.jsx","pages/single-film-page/single-film-page.jsx","pages/my-list/my-list.jsx","component/main-catalog/main-catalog.jsx","pages/sign-in/authorization.jsx","routes.jsx","index.jsx"],"names":["Loading","className","ActionButton","iconClass","title","clickHandler","onClick","type","useShowMoreClasses","useState","showMoreState","setShowMoreState","classCardPoster","classNames","classMovieCardInfo","classShowMoreArrow","reducer","state","action","loading","error","films","payload","myFilmList","Array","from","user","userContent","find","item","id","newUser","console","log","deleteFilmId","newMyFilmList","filter","userError","userLoading","allUserData","getFilms","Axios","fetchFilmsRequest","userLogin","allUsersData","dataUsers","FilmContext","createContext","initialState","FilmContextProvider","children","store","useReducer","dispatch","useEffect","then","res","data","catch","fetchFilmsFailure","fetchingBooks","Provider","value","FilmBrief","posterImage","genre","year","iconClasses","addFilmHandler","history","showMoreHandler","showVideoHandler","useContext","location","pathname","includes","src","alt","width","height","BackgroundImage","image","VideoPlayer","video","onCloseHandler","onKeyDown","e","keyCode","tabIndex","autoPlay","controls","RegistrationUser","name","password","this","userData","userName","myComents","getUserData","a","async","fetch","headers","json","setUserData","newData","method","body","JSON","stringify","versioning","useUsersService","checkingUser","currentUser","userCheker","i","registerUser","Object","keys","length","updateUser","useCallback","userUpdater","addUserContent","useCurrentFilm","match","useRouteMatch","values","params","getCurrentFilm","withRouter","useHistory","currentFilm","released","poster_image","backgroundimage","background_image","video_link","isVideo","setIsVideo","isAdd","togleVideoHandler","s","text","push","url","getUrlFromChangeInfo","film","deleteFilmOnMyList","useLocalStorage","key","initialValue","localStorage","getItem","setValue","setItem","Header","headerTitle","setToken","logaut","path","headerClass","to","toUpperCase","Footer","useCheckUser","userToken","MainPage","globalState","FilterTabs","setFilter","buttons","getActiveClass","toString","FilterButtons","map","FilmOverview","rating","score","scores_count","description","director","starring","class","join","FilmDetails","runTime","run_time","hours","Math","floor","minutes","getRunTime","FilmReview","MovieCardMoreInfo","filterState","backgroundColor","background_color","style","getTab","MovieCard","FilmName","playVideo","setPlayVideo","timerId","setTimeout","timer","clearInterval","onMouseEnter","onMouseLeave","MovieList","dataFilms","countFilms","Infinity","currentId","movieList","preview_image","preview_video_link","SinglePageFilm","setFilterState","Overview","Details","Reviews","MyList","MainCatalog","setCountFilms","Comedies","Crime","Dramas","Action","Thrillers","Authorization","setUserToken","setUserName","setPassword","email","setEmail","islogin","setIsLogin","isSignUp","setIsSignUp","onSubmit","preventDefault","placeholder","onChange","target","disabled","Routes","component","exact","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4e28b123.chunk.js","sourcesContent":["import React, { Fragment } from 'react';\r\nimport './loading.css'\r\nconst Loading = () => {\r\n  return (\r\n    <Fragment>\r\n      <div className=\"loadingio-spinner-wedges-bckcrtwvkwo\">\r\n        <div className=\"loading\">\r\n          <div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport default Loading;\r\n\r\n","import React from \"react\";\r\n\r\nconst ActionButton = ({ iconClass, title ,clickHandler}) => {\r\n  return (\r\n    <button\r\n    onClick={clickHandler}\r\n     className=\"btn btn--list movie-card__button\" \r\n     type=\"button\">\r\n      <i className={iconClass}>&nbsp;</i>\r\n      <span>{title}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ActionButton;\r\n","\r\nimport classNames from \"classnames\";\r\nimport { useState } from \"react\";\r\n\r\nconst useShowMoreClasses = () => {\r\n  const [showMoreState, setShowMoreState] = useState(false);\r\n\r\n  const classCardPoster = classNames({\r\n    \"movie-card__poster\": !showMoreState,\r\n    \"movie-card__poster movie-card__poster_more\": showMoreState\r\n  });\r\n  const classMovieCardInfo = classNames({\r\n    \"movie-card__info\": !showMoreState,\r\n    \"movie-card__info movie-card__info_more\": showMoreState\r\n  });\r\n  const classShowMoreArrow = classNames({\r\n    \"fa fa-arrow-down fa-lg\": !showMoreState,\r\n    \"fa fa-arrow-down active fa-lg\": showMoreState\r\n  });\r\n\r\n  return {\r\n    classCardPoster,\r\n    classMovieCardInfo,\r\n    classShowMoreArrow,\r\n    setShowMoreState\r\n  };\r\n};\r\n\r\nexport default useShowMoreClasses;\r\n","const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_FILMS_REQUEST\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      };\r\n    case \"FETCH_FILMS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        films: action.payload\r\n      };\r\n    case \"FETCH_FILMS_FAILURE\":\r\n      return {\r\n        films: [],\r\n        loading: false,\r\n        error: action.payload,\r\n        myFilmList: []\r\n      };\r\n    case \"ADD_FILM_ON_MY_LIST\":\r\n\r\n      \r\n      if (\r\n       Array.from(state.user.userContent.myFilmList).find(\r\n          item => item.id === action.payload.id)\r\n      ) {\r\n        return { ...state };\r\n      }\r\n      const {user} = state\r\n      const newUser = {userContent:{\r\n        myFilmList:[]\r\n      }}\r\n      newUser.userContent.myFilmList = [...Array.from(user.userContent.myFilmList),action.payload]\r\n      console.log(user.userContent === newUser.userContent);\r\n      \r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...user,...newUser\r\n        }\r\n      };\r\n    case \"DELETE_FILM_ON_MY_LIST\":\r\n      const deleteFilmId = action.payload.id;\r\n      const newMyFilmList = state.user.userContent.myFilmList.filter(\r\n        ({ id }) => id !== deleteFilmId\r\n      );\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          ...state.user.userContent,\r\n          ...state.user.userContent.myFilmList = newMyFilmList\r\n        }\r\n      };\r\n    case \"FETCH_USER_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        userError: null,\r\n        user: action.payload,\r\n        userLoading: false\r\n      };\r\n    case \"FETCH_USER_REQUEST\":\r\n      return {\r\n        ...state,\r\n        userError: null,\r\n        userLoading: true\r\n      };\r\n    case \"FETCH_USER_ERROR\":\r\n      return {\r\n        ...state,\r\n        userError: action.payload,\r\n        userLoading: false\r\n      };\r\n      case \"USER_LOAGAUT\":\r\n        return {\r\n          ...state,\r\n          user:''\r\n        };\r\n    case \"FETCH_ALL_USER_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        allUserData: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import Axios from \"axios\";\r\n\r\n\r\nconst getFilms = () => {\r\n  return  Axios(\"https://htmlacademy-react-2.appspot.com/wtw/films\")\r\n}\r\n\r\nexport default getFilms;\r\n","import getFilms from \"../services/api-services\";\r\n\r\nconst fetchFilmsRequest = () => {\r\n  return {\r\n    type: 'FETCH_FILMS_REQUEST'\r\n  }\r\n};\r\n\r\nconst fetchFilmsSuccess = (filmsData) => {\r\n  return {\r\n    type: 'FETCH_FILMS_SUCCESS',\r\n    payload: filmsData\r\n  }\r\n}\r\nconst fetchFilmsFailure = (error) => {\r\n  return {\r\n    type: 'FETCH_FILMS_FAILURE',\r\n    payload: error\r\n  }\r\n}\r\nconst addFilmOnMyList = (film) => {\r\n  return {\r\n    type: 'ADD_FILM_ON_MY_LIST',\r\n    payload: film\r\n  }\r\n}\r\nconst deleteFilmOnMyList = (film) => {\r\n  return {\r\n    type: 'DELETE_FILM_ON_MY_LIST',\r\n    payload: film\r\n  }\r\n}\r\n\r\nconst fetchingBooks = (dispatch) => {\r\n  dispatch(fetchFilmsRequest)\r\n  getFilms()\r\n    .then((res) => dispatch(fetchFilmsSuccess(res.data)))\r\n    .catch((error) => dispatch(fetchFilmsFailure(error)))\r\n}\r\n\r\nconst userLoading = () => {\r\n  return {\r\n    type: \"FETCH_USER_REQUEST\",\r\n  }\r\n}\r\nconst userLogin = (user) => {\r\n  return {\r\n    type: \"FETCH_USER_SUCCESS\",\r\n    payload: user\r\n  }\r\n}\r\n\r\nconst userError = (error) => {\r\n  return {\r\n    type: \"FETCH_USER_ERROR\",\r\n    payload: error\r\n  }\r\n}\r\n\r\nconst allUsersData = (dataUsers) => {\r\n  return {\r\n    type: 'FETCH_ALL_USER_SUCCESS',\r\n    payload:dataUsers\r\n  }\r\n}\r\n\r\nconst userLogaut = () => {\r\n  return {\r\n    type: 'USER_LOAGAUT'\r\n  }\r\n}\r\n\r\n\r\n\r\nexport {\r\n  fetchingBooks,\r\n  addFilmOnMyList,\r\n  deleteFilmOnMyList,\r\n  userLogin,\r\n  userError,\r\n  userLoading,\r\n  allUsersData,\r\n  userLogaut\r\n}","import React from 'react';\r\nimport { createContext } from 'react';\r\nimport { useReducer } from 'react';\r\nimport reducer from '../reducers/reducer';\r\nimport { useEffect } from 'react';\r\nimport { fetchingBooks } from '../action/action-creater';\r\n\r\n\r\n\r\nexport const FilmContext = createContext()\r\n\r\nconst initialState = {\r\n  loading:true,\r\n  error:false,\r\n  films:[],\r\n  myFilmList:[],\r\n  // user:{\r\n  //   userData:{\r\n  //     userName:\"\",\r\n  //     password:\"\"\r\n  //   },\r\n  //   userContent: {\r\n  //     myFilmList:[],\r\n  //     myComents:[]\r\n  //   }\r\n  // }\r\n}\r\n\r\nexport const FilmContextProvider = ({children}) => {\r\n  const store = useReducer(reducer,initialState)\r\n  const[,dispatch] = store\r\n  useEffect(() => {\r\n    fetchingBooks(dispatch);\r\n  }, [dispatch]);\r\n\r\n\r\n  return (\r\n    <FilmContext.Provider value={store}>\r\n      {children}\r\n    </FilmContext.Provider>\r\n  )\r\n}","import React from \"react\";\r\nimport ActionButton from \"../buttons/action-button\";\r\nimport { useEffect } from \"react\";\r\nimport \"./film-brief.scss\";\r\nimport useShowMoreClasses from \"./hooks/use-show-more-classes\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\n\r\nconst FilmBrief = ({\r\n  posterImage,\r\n  title,\r\n  genre,\r\n  year,\r\n  iconClasses,\r\n  addFilmHandler,\r\n  history,\r\n  showMoreHandler,\r\n  showVideoHandler,\r\n}) => {\r\n\r\n  const [{user}] = useContext(FilmContext);\r\n\r\n\r\n  const {\r\n    classCardPoster,\r\n    classMovieCardInfo,\r\n    classShowMoreArrow,\r\n    setShowMoreState\r\n  } = useShowMoreClasses();\r\n\r\n  useEffect(() => {\r\n    if (history.location.pathname.includes(\"/film\")) {\r\n      setShowMoreState(true);\r\n    } else {\r\n      setShowMoreState(false);\r\n    }\r\n  }, [history.location.pathname, setShowMoreState]);\r\n\r\n  return (\r\n    <div className=\"movie-card__wrap\">\r\n      <div className={classCardPoster}>\r\n        <img src={posterImage} alt={title} width=\"218\" height=\"327\" />\r\n      </div>\r\n      <div className={classMovieCardInfo}>\r\n        <div className=\"movie-card__desc\">\r\n          <h2 className=\"movie-card__title\">{title}</h2>\r\n          <p className=\"movie-card__meta\">\r\n            <span className=\"movie-card__genre\">{genre}</span>\r\n            <span className=\"movie-card__year\">{year}</span>\r\n          </p>\r\n\r\n          <div className=\"movie-card__buttons\">\r\n            <ActionButton\r\n              clickHandler={showVideoHandler}\r\n              iconClass={\"fa fa-lg fa-play-circle-o\"}\r\n              title={\"Play\"}\r\n            />\r\n            {user && (\r\n              <ActionButton\r\n                iconClass={iconClasses}\r\n                title={\"My list\"}\r\n                clickHandler={addFilmHandler}\r\n              />\r\n            )}\r\n\r\n            <ActionButton\r\n              iconClass={classShowMoreArrow}\r\n              title={\"Show More\"}\r\n              clickHandler={showMoreHandler}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* <button onClick={showMoreHandler}>btn</button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilmBrief;\r\n","import React from \"react\";\r\n\r\nconst BackgroundImage = ({image}) => {\r\n  \r\n  return (\r\n    <div className=\"movie-card__bg\">\r\n      <img\r\n        src={image}\r\n        alt=\"The Grand Budapest Hotel\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default BackgroundImage;","import React from \"react\";\r\nimport \"./video-player.scss\";\r\n\r\nconst VideoPlayer = ({ video, onCloseHandler }) => {\r\n\r\n\r\n  const keyCloseVideo = e => {\r\n    if (e.keyCode === 27) {\r\n      onCloseHandler();\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div onKeyDown={keyCloseVideo} className=\"overlay\" tabIndex={1}>\r\n        <div >\r\n          <div\r\n            className=\"modal\">\r\n            <div className=\"modal__close\" onClick={onCloseHandler}>\r\n              &times;\r\n            </div>\r\n            <video className=\"video_player\" autoPlay={false} controls={true}>\r\n              <source src={video} type=\"video/mp4\" />\r\n            </video>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","export const timer = setIsVideo => {\r\n  const timerId = setTimeout(() => {\r\n    setIsVideo(true);\r\n  }, 2000);\r\n  return timerId;\r\n};\r\n\r\n\r\nexport const getCurrentFilm = (match, films) => {\r\n  const getIdentificator = () => {\r\n    return Object.values(match.params).filter(item => item > 0)[0];\r\n  };\r\n  return films[getIdentificator() - 1] || films[0];\r\n}\r\n\r\n\r\nexport const getUrlFromChangeInfo = (currentFilm, match) => {\r\n  if (!match.url.includes(\"film\")) {\r\n    return `/film/${currentFilm.id || 1}`;\r\n  }\r\n  return `/${currentFilm.id}`;\r\n};\r\nexport class RegistrationUser {\r\n  constructor(name, password) {\r\n    this[name] = {};\r\n    this[name].userData = { userName: name, password: password };\r\n    this[name].userContent = { myFilmList: [], myComents: [] };\r\n  }\r\n}\r\n// export function registrationUser(name, password) {\r\n//   this[name] = {};\r\n//   this[name].userData = { userName: name, password: password };\r\n//   this[name].userContent = { myFilmList: \"\", myComents: \"\" };\r\n// }\r\n","\r\n\r\n\r\n\r\n\r\nexport const getUserData = async () => {\r\n\r\n  const res = await fetch(\"https://api.jsonbin.io/b/5e39ba5ef47af813baceb350/latest\", {\r\n    headers: {\r\n      'secret-key': '$2b$10$V6nhp3uZuwzZMz1m2hBJ.ukLJbu3smguZlv3.vMz39mpxab5NJY4W'\r\n    }\r\n  })\r\n  return res.json().then((res) => res)\r\n\r\n}\r\nexport const setUserData = async (newData) => {\r\n\r\n  const res = await fetch(\"https://api.jsonbin.io/b/5e39ba5ef47af813baceb350\", {\r\n    method: 'PUT',\r\n    body:JSON.stringify(newData),\r\n    versioning: false,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'secret-key': '$2b$10$V6nhp3uZuwzZMz1m2hBJ.ukLJbu3smguZlv3.vMz39mpxab5NJY4W'\r\n    },\r\n  })\r\n  return res.json().then((res) => res.data)\r\n\r\n}\r\n\r\n","import { getUserData, setUserData } from \"../services/api-users\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../contexts/film-context-service\";\r\nimport {\r\n  userLoading,\r\n  userError,\r\n  userLogin,\r\n  allUsersData\r\n} from \"../action/action-creater\";\r\nimport { RegistrationUser } from \"../utils/utils\";\r\nimport {\r\n  wrongEmailOrPassword,\r\n  wrongUserName\r\n} from \"../constance/authoriazationMessages\";\r\nimport { useCallback } from \"react\";\r\n\r\nconst useUsersService = () => {\r\n  const [{ allUserData, user }, dispatch] = useContext(FilmContext);\r\n\r\n  const checkingUser = (name, password) => {\r\n    dispatch(userLoading());\r\n    let currentUser = \"\";\r\n    getUserData().then(dataUsers => userCheker(dataUsers));\r\n\r\n    const userCheker = dataUsers => {\r\n      dispatch(allUsersData(dataUsers));\r\n      for (let i in dataUsers) {\r\n        if (i === name && dataUsers[i].userData.password === password) {\r\n          currentUser = dataUsers[i];\r\n        }\r\n      }\r\n      if (currentUser) {\r\n        dispatch(userLogin(currentUser));\r\n      } else {\r\n        dispatch(userError(wrongEmailOrPassword));\r\n      }\r\n    };\r\n  };\r\n\r\n  const updateUser = useCallback(\r\n    userName => {\r\n      dispatch(userLoading());\r\n      getUserData().then(dataUsers => {\r\n        userUpdater(dataUsers);\r\n      });\r\n      const userUpdater = dataUsers => {\r\n        dispatch(allUsersData(dataUsers));\r\n        dispatch(userLogin(dataUsers[userName]));\r\n      };\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const registerUser = async (name, password) => {\r\n    dispatch(userLoading())\r\n    const newUser = new RegistrationUser(name, password);\r\n    const dataUsers = await getUserData().then(res => res);\r\n\r\n    if (Object.keys(dataUsers).filter(item => item === name).length > 0) {\r\n      dispatch(userError(wrongUserName));\r\n      return;\r\n    }\r\n    const newData = await setUserData({ ...dataUsers, ...newUser });\r\n    dispatch(userLogin(newData[name]));\r\n    dispatch(allUsersData(newData));\r\n  };\r\n\r\n  const addUserContent = async () => {\r\n\r\n    allUserData[user.userData.userName] = {\r\n      ...allUserData[user.userData.userName],\r\n      ...user\r\n    };\r\n\r\n\r\n    const newData = await setUserData({...allUserData});\r\nconsole.log(newData);\r\n\r\n    dispatch(allUsersData(newData));\r\n  };\r\n\r\n  return { checkingUser, registerUser, updateUser, addUserContent };\r\n};\r\n\r\nexport default useUsersService;\r\n","export const wrongEmailOrPassword = `We can’t recognize this email and password combination.\r\nPlease try again.`\r\n\r\nexport const wrongUserName = `\r\nThis user already exists`\r\n\r\n","import { useRouteMatch } from \"react-router-dom\";\r\nimport { getCurrentFilm } from \"../utils/utils\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../contexts/film-context-service\";\r\n\r\nexport const useCurrentFilm = () => {\r\n  const [{films}] = useContext(FilmContext)\r\n  const match = useRouteMatch()\r\n\r\n  if(films[0]) {\r\n    return  getCurrentFilm(match,films)\r\n  }\r\n  return {}\r\n}\r\n","import React, { Fragment } from \"react\";\r\nimport { withRouter, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport FilmBrief from \"./film-brief\";\r\nimport BackgroundImage from \"../background-image/background-image\";\r\nimport {\r\n  addFilmOnMyList,\r\n  deleteFilmOnMyList\r\n} from \"../../action/action-creater\";\r\nimport VideoPlayer from \"../video-player/video-player\";\r\nimport { getUrlFromChangeInfo } from \"../../utils/utils\";\r\nimport { useState } from \"react\";\r\nimport useUsersService from \"../../hooks/useUsersService\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\n\r\nconst MovieBigCard = ({ dispatch, myFilmList }) => {\r\n  const history = useHistory();\r\n  const match = useRouteMatch();\r\n  const currentFilm = useCurrentFilm()\r\n  const { addUserContent } = useUsersService();\r\n  const {\r\n    id,\r\n    name: title,\r\n    genre,\r\n    released: year,\r\n    poster_image: posterImage,\r\n    background_image: backgroundimage,\r\n    video_link: video\r\n  } = currentFilm;\r\n  const [isVideo, setIsVideo] = useState(false);\r\n\r\n  const isAdd = Array.from(myFilmList).find(item => item.id === id);\r\n\r\n  const iconClasses = classNames({\r\n    \"fa fa-lg fa-plus\": !isAdd,\r\n    \"fa fa-lg fa-check\": isAdd\r\n  });\r\n  const togleFilmOnMyListHandler = () => {\r\n    if (!isAdd) {\r\n      dispatch(addFilmOnMyList(currentFilm));\r\n      addUserContent();\r\n    }\r\n    if (isAdd) {\r\n      dispatch(deleteFilmOnMyList(currentFilm));\r\n      addUserContent();\r\n    }\r\n  };\r\n\r\n  const showMoreHandler = () =>\r\n    history.push(getUrlFromChangeInfo(currentFilm, match));\r\n\r\n  const togleVideoHandler = () => {\r\n    setIsVideo(s => !s);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {isVideo && (\r\n        <VideoPlayer\r\n          video={video}\r\n          text={`text`}\r\n          onCloseHandler={togleVideoHandler}\r\n        />\r\n      )}\r\n      <BackgroundImage image={backgroundimage} />\r\n      <FilmBrief\r\n        showVideoHandler={togleVideoHandler}\r\n        showMoreHandler={showMoreHandler}\r\n        history={history}\r\n        addFilmHandler={togleFilmOnMyListHandler}\r\n        posterImage={posterImage}\r\n        genre={genre}\r\n        year={year}\r\n        title={title}\r\n        iconClasses={iconClasses}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\nexport default withRouter(MovieBigCard);\r\n","import { useState, useEffect } from \"react\"\r\n\r\nconst useLocalStorage = (key,initialValue='') => {\r\n  const [value,setValue] = useState(() => {\r\n    return localStorage.getItem(key) || initialValue\r\n  });\r\n\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key,value)    \r\n  },[value,key])\r\n\r\n  return [value,setValue]\r\n}\r\n\r\nexport default useLocalStorage;","import React from \"react\";\r\nimport { Link, useRouteMatch} from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport {\r\n  myFilmListPage,\r\n  signIn,\r\n  mainPage\r\n} from \"../../constance/rote-constance\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\nimport { userLogaut } from \"../../action/action-creater\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Header = ({ headerTitle }) => {\r\n  const [,setToken] = useLocalStorage(`userToken`)\r\n  const [{ user },dispatch] = useContext(FilmContext);\r\n  let logaut = false;\r\n  const match = useRouteMatch();\r\n  if (match.path === myFilmListPage) {\r\n    logaut = true;\r\n  }\r\nconst onLogaut = () => {\r\n  dispatch(userLogaut())\r\n}\r\n\r\nuseEffect(()=>{\r\n  if(user==='') {\r\n    setToken('')\r\n  }\r\n},[setToken, user])\r\n\r\n\r\n  const headerClass = headerTitle\r\n    ? \"page-header user-page__head\"\r\n    : \"page-header movie-card__head\";\r\n\r\n  return (\r\n    <header className={headerClass}>\r\n      <div className=\"logo\">\r\n        <Link to={mainPage} className=\"logo__link\">\r\n          <span className=\"logo__letter logo__letter--1\">W</span>\r\n          <span className=\"logo__letter logo__letter--2\">T</span>\r\n          <span className=\"logo__letter logo__letter--3\">W</span>\r\n        </Link>\r\n      </div>\r\n      {headerTitle && (\r\n        <h1 className=\"page-title user-page__title\">{headerTitle}</h1>\r\n      )}\r\n      {user && !logaut && (\r\n        <Link to={myFilmListPage} className=\"user-block\">\r\n          <div className=\"user-block__avatar\">\r\n            {user && user.userData.userName.toUpperCase()[0]}\r\n          </div>\r\n        </Link>\r\n      )}\r\n\r\n      {!user && (\r\n        <Link to={signIn} className=\"user-block__link\">\r\n          Sign in\r\n        </Link>\r\n      )}\r\n      {logaut &&\r\n        <Link \r\n        onClick={onLogaut}\r\n        to={mainPage} className=\"user-block__link\">\r\n          Logaut\r\n        </Link>\r\n      }\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export const signIn = `/signin`\r\nexport const signUp = `/signup`\r\nexport const mainPage = `/`\r\nexport const moreInfoPage = '/film'\r\nexport const myFilmListPage = '/mylist'","import React from \"react\";\r\nimport { mainPage } from \"../../constance/rote-constance\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"page-footer\">\r\n      <div className=\"logo\">\r\n        <Link to={mainPage} className=\"logo__link logo__link--light\">\r\n          <span className=\"logo__letter logo__letter--1\">W</span>\r\n          <span className=\"logo__letter logo__letter--2\">T</span>\r\n          <span className=\"logo__letter logo__letter--3\">W</span>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"copyright\">\r\n        <p>© 2019 What to watch Ltd.</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { useEffect } from 'react';\r\nimport { useContext } from 'react';\r\nimport { FilmContext } from '../contexts/film-context-service';\r\nimport useLocalStorage from './useLocalStorage';\r\nimport useUsersService from './useUsersService';\r\n\r\nconst useCheckUser = () => {\r\n  const [{user}] = useContext(FilmContext)\r\n  const [userToken] = useLocalStorage(`userToken`)\r\n  const {updateUser} = useUsersService()\r\n  console.log(`updateUser ${user}`);\r\n  useEffect(() => {\r\n    if (!user && user !== '' && userToken) {\r\n\r\n      updateUser(userToken);\r\n    }\r\n  }, [updateUser, user, userToken]);\r\n}\r\n\r\nexport default useCheckUser;","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Fragment } from \"react\";\n\nimport Loading from \"../../component/loading/loading\";\nimport MovieBigCard from \"../../component/movie-big-card/movie-big-card\";\nimport { useContext } from \"react\";\nimport { FilmContext } from \"../../contexts/film-context-service\";\nimport \"./style.css\";\nimport Header from \"../../component/header/header\";\nimport Footer from \"../../component/footer/footer\";\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\nimport useCheckUser from \"../../hooks/useCheckUser\";\n\nconst MainPage = ({ children }) => {\n  const [globalState, dispatch] = useContext(FilmContext);\n  const { films, loading, user } = globalState;\n  const currentFilm = useCurrentFilm();\n  const myFilmList = user ? user.userContent.myFilmList : {};\n  useCheckUser();\n\n  return (\n    <Fragment>\n      <section className=\"movie-card\">\n        <Header />\n        {loading && <Loading />}\n        {!loading && films !== null && (\n          <MovieBigCard\n            myFilmList={myFilmList}\n            currentFilm={currentFilm}\n            dispatch={dispatch}\n          />\n        )}\n      </section>\n      <div className=\"page-content\">\n        {children({ loading, films })}\n        <Footer />\n      </div>\n    </Fragment>\n  );\n};\n\n\nexport default MainPage;\n","import React from \"react\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nconst FilterTabs = ({filter,setFilter,buttons=[],className}) => {\r\n  const handler = value => {\r\n    setFilter(...value)\r\n  };\r\n\r\nconst getActiveClass = (item) => {  \r\n  // eslint-disable-next-line eqeqeq\r\n  if (Object.values(item).toString() == [...filter]){\r\n   return \"catalog__genres-item catalog__genres-item--active\" \r\n  }\r\n  return \"catalog__genres-item\"\r\n}\r\n\r\n\r\n  const {url} = useRouteMatch()\r\n\r\n  const FilterButtons = buttons.map((item, id) => {\r\n\r\n    return (\r\n      <li\r\n      onClick={() => handler(Object.values(item))}\r\n        key={id}\r\n        className={getActiveClass(item)}\r\n      >\r\n        <Link to={url} className=\"catalog__genres-link\">\r\n          {Object.keys(item)}\r\n        </Link>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return <ul className={className}>{FilterButtons}</ul>;\r\n};\r\n\r\nexport default FilterTabs;\r\n","import React, { Fragment } from \"react\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\nconst FilmOverview = () => {\r\n  const {\r\n    rating,\r\n    scores_count: score,\r\n    description,\r\n    director,\r\n    starring\r\n  } = useCurrentFilm();\r\n  return (\r\n    <Fragment>\r\n      <div class=\"movie-rating\">\r\n        <div class=\"movie-rating__score\">{rating}</div>\r\n        <p class=\"movie-rating__meta\">\r\n          <span class=\"movie-rating__count\">{score} votes</span>\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"movie-card__text\">\r\n        <p>{description}</p>\r\n        <p class=\"movie-card__director\">\r\n          <strong>Director:{director}</strong>\r\n        </p>\r\n\r\n        <p class=\"movie-card__starring\">\r\n          <strong>{starring.join(\" ,\")}</strong>\r\n        </p>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FilmOverview;\r\n","import React from \"react\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\nconst FilmDetails = () => {\r\n  const { director, starring, run_time: runTime,genre,released } = useCurrentFilm();\r\n\r\n  const getRunTime = () => {\r\n    const hours = Math.floor(runTime / 60);\r\n    const minutes = runTime % 60;\r\n    return `${hours}h ${minutes}m`;\r\n  };\r\n  return (\r\n    <div class=\"movie-card__text movie-card__row\">\r\n      <div class=\"movie-card__text-col\">\r\n        <p class=\"movie-card__details-item\">\r\n          <strong class=\"movie-card__details-name\">Director</strong>\r\n          <span class=\"movie-card__details-value\">{director}</span>\r\n        </p>\r\n        <p class=\"movie-card__details-item\">\r\n          <strong class=\"movie-card__details-name\">Starring</strong>\r\n          <span class=\"movie-card__details-value\">{starring.join(\" \")}</span>\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"movie-card__text-col\">\r\n        <p class=\"movie-card__details-item\">\r\n          <strong class=\"movie-card__details-name\">Run Time</strong>\r\n          <span class=\"movie-card__details-value\">{getRunTime()}</span>\r\n        </p>\r\n        <p class=\"movie-card__details-item\">\r\n          <strong class=\"movie-card__details-name\">Genre</strong>\r\n          <span class=\"movie-card__details-value\">{genre}</span>\r\n        </p>\r\n        <p class=\"movie-card__details-item\">\r\n          <strong class=\"movie-card__details-name\">Released</strong>\r\n          <span class=\"movie-card__details-value\">{released}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilmDetails;\r\n","import React from 'react';\r\n\r\nconst FilmReview = () => {\r\n  return (\r\n    <h1>FilmReview</h1>\r\n  )\r\n}\r\n\r\nexport default FilmReview;","import React from \"react\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\nimport FilmOverview from \"./film-overview\";\r\nimport FilmDetails from \"./film-details\";\r\nimport FilmReview from \"./film-review\";\r\n\r\nconst MovieCardMoreInfo = ({ filterState }) => {\r\n  const { background_color: backgroundColor } = useCurrentFilm();\r\n\r\n  const getTab = () => {\r\n    switch (filterState[0]) {\r\n      case \"overviewFilm\":\r\n        return <FilmOverview />;\r\n      case \"detailsFilm\":\r\n        return <FilmDetails />;\r\n      case \"reviewsFilm\":\r\n        return <FilmReview />;\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section\r\n      class=\"movie-card movie-card--full\"\r\n      style={{ backgroundColor: backgroundColor }}\r\n    >\r\n      <div class=\"movie-card__wrap movie-card__translate-top\">\r\n        <div class=\"movie-card__info\">\r\n          <div class=\"movie-card__desc\">{getTab()}</div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MovieCardMoreInfo;\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { timer } from \"../../utils/utils\";\r\n\r\nconst MovieCard = ({ image, FilmName, id, video, genre }) => {\r\n  const [isVideo, setIsVideo] = useState(false);\r\n  const [playVideo, setPlayVideo] = useState(false);\r\n  const history = useHistory()\r\n  console.log(history);\r\n  \r\n  useEffect(() => {\r\n    let timerId = \"\";\r\n    if (isVideo) {\r\n      timerId = timer(setPlayVideo);\r\n    }\r\n    return () => {\r\n      setPlayVideo(false);\r\n      clearInterval(timerId);\r\n    };\r\n  }, [isVideo]);\r\n\r\n  const VideoState = ({ video }) => {\r\n    return (\r\n      <video\r\n        className=\"small-movie-card__image\"\r\n        autoPlay={true}\r\n        controls={false}\r\n      >\r\n        <source src={video} type=\"video/mp4\" />\r\n      </video>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <article\r\n      className=\"small-movie-card catalog__movies-card\"\r\n      onMouseEnter={() => setIsVideo(true)}\r\n      onMouseLeave={() => setIsVideo(false)}\r\n    >\r\n      {playVideo && <VideoState video={video} />}\r\n      {!playVideo && (\r\n        <Fragment>\r\n          <div className=\"small-movie-card__image\"\r\n          onClick={()=>history.push(`/${id}`)}>\r\n            <img src={image} alt={FilmName} width=\"280\" height=\"175\" />\r\n          </div>\r\n          <h3 className=\"small-movie-card__title\">\r\n            <Link to={`/${id}`} className=\"small-movie-card__link\">\r\n              {FilmName} {genre}\r\n            </Link>\r\n          </h3>\r\n        </Fragment>\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default MovieCard;\r\n","/* eslint-disable eqeqeq */\r\nimport React from \"react\";\r\nimport MovieCard from \"./movie-card\";\r\n\r\nconst MovieList = ({ dataFilms, filter = [], countFilms = Infinity }) => {\r\n  let currentId = 1;\r\n  const movieList = dataFilms.map(film => {\r\n    if (\r\n      (filter.includes(film.genre) || filter == false) &&\r\n      currentId <= countFilms\r\n    ) {\r\n      ++currentId;\r\n      return (\r\n        <MovieCard\r\n          id={film.id}\r\n          key={film.id}\r\n          FilmName={film.name}\r\n          image={film.preview_image}\r\n          video={film.preview_video_link}\r\n          genre={film.genre}\r\n        />\r\n      );\r\n    }\r\n\r\n    return null;\r\n  });\r\n  return <div className=\"catalog__movies-list\">{movieList}</div>;\r\n};\r\n\r\nexport default MovieList;\r\n","import React, { Fragment } from \"react\";\r\nimport \"./single-film-page.css\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport { useState } from \"react\";\r\nimport FilterTabs from \"../../component/tabs-filter/tabs-filter\";\r\nimport Loading from \"../../component/loading/loading\";\r\nimport MovieCardMoreInfo from \"../../component/movie-card-more-info/Movie-card-more-info\";\r\nimport MovieList from \"../../component/movies-list/movies-list\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\nconst SinglePageFilm = () => {\r\n  const [globalState] = useContext(FilmContext);\r\n  const { films, loading} = globalState;\r\n  const currentFilm = useCurrentFilm();\r\n  const FilterButtons = [\r\n    { Overview: [\"overviewFilm\"] },\r\n    { Details: [\"detailsFilm\"] },\r\n    { Reviews: [\"reviewsFilm\"] }\r\n  ];\r\n\r\n  const [filterState, setFilterState] = useState([\"overviewFilm\"]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <nav class=\"movie-nav movie-card__nav\">\r\n        <FilterTabs\r\n          filter={filterState}\r\n          setFilter={setFilterState}\r\n          buttons={FilterButtons}\r\n          className={\"movie-nav__list\"}\r\n        />\r\n      </nav>\r\n\r\n      {loading && <Loading />}\r\n      {!loading && films && (\r\n        <Fragment>\r\n          <MovieCardMoreInfo filterState={filterState} />\r\n          <div class=\"page-content\">\r\n            <section class=\"catalog catalog--like-this\">\r\n              <h2 class=\"catalog__title\">More like this</h2>\r\n              <MovieList\r\n                dataFilms={films}\r\n                filter={currentFilm.genre}\r\n                countFilms={4}\r\n              />\r\n            </section>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SinglePageFilm;\r\n","import React, { Fragment } from \"react\";\r\nimport Footer from \"../../component/footer/footer\";\r\nimport Header from \"../../component/header/header\";\r\nimport MovieList from \"../../component/movies-list/movies-list\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport useCheckUser from \"../../hooks/useCheckUser\";\r\n\r\nconst MyList = () => {\r\n  const [globalState] = useContext(FilmContext);\r\n  const { user } = globalState;\r\n  const myFilmList  = user ? user.userContent.myFilmList :[]\r\n  useCheckUser()\r\n  return (\r\n    <Fragment>\r\n      <div className=\"user-page\">\r\n        <Header headerTitle={\"My list\"} />\r\n\r\n        <section className=\"catalog\">\r\n          <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n          <MovieList dataFilms={myFilmList} />\r\n        </section>\r\n\r\n        <Footer />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MyList;\r\n","import React from \"react\";\r\nimport FilterTabs from \"../tabs-filter/tabs-filter\";\r\nimport MovieList from \"./../movies-list/movies-list\";\r\nimport Loading from \"../loading/loading\";\r\nimport { useState } from \"react\";\r\nconst MainCatalog = ({ films, loading }) => {\r\n  const [countFilms, setCountFilms] = useState(12);\r\n  const buttons = [\r\n    { \"All genres\": [\"\"] },\r\n    { Comedies: [\"Comedy\"] },\r\n    { Crime: [\"Crime\"] },\r\n    { Dramas: [\"Drama\"] },\r\n    { Action: [\"Action\"] },\r\n    { \"Kids & Family\": [\"Fantasy\", \"Adventure\"] },\r\n    { Thrillers: [\"Thriller\"] }\r\n  ];\r\n\r\n  const [filter, setFilter] = useState(\"\");\r\n  return (\r\n    <section className=\"catalog\">\r\n      <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n      <FilterTabs\r\n        setFilter={setFilter}\r\n        filter={filter}\r\n        buttons={buttons}\r\n        className={\"catalog__genres-list\"}\r\n      />\r\n      {loading && <Loading />}\r\n      {!loading && films !== null && (\r\n        <MovieList dataFilms={films} filter={filter} countFilms={countFilms} />\r\n      )}\r\n\r\n      <div className=\"catalog__more\">\r\n        <button\r\n          onClick={() => setCountFilms(s => s + 10)}\r\n          className=\"catalog__button\"\r\n          type=\"button\"\r\n        >\r\n          Show more\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default MainCatalog;\r\n","import React from \"react\";\r\nimport Footer from \"../../component/footer/footer\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport useUsersService from \"../../hooks/useUsersService\";\r\nimport { Redirect, useRouteMatch, Link } from \"react-router-dom\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\nimport \"./authorization.scss\";\r\nimport useCheckUser from \"../../hooks/useCheckUser\";\r\nimport { signIn, signUp, mainPage } from \"../../constance/rote-constance\";\r\n\r\nconst Authorization = () => {\r\n  const [userToken, setUserToken] = useLocalStorage(`userToken`);\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [islogin, setIsLogin] = useState(false);\r\n  const [{ user, userError, userLoading }] = useContext(FilmContext);\r\n  const match = useRouteMatch();\r\n  const { checkingUser, registerUser} = useUsersService();\r\n  const [isSignUp, setIsSignUp] = useState(false);\r\n/// Реализовать загрузку списмка фильмов на сервер \r\n// Реализовать загрузку коментариев на сервер \r\n\r\n// \r\n  useCheckUser();\r\n  useEffect(() => {\r\n    if (match.path === signUp) {\r\n      setIsSignUp(true);\r\n    } else {\r\n      setIsSignUp(false);\r\n    }\r\n  }, [match.path]);\r\n\r\n  useEffect(() => {\r\n    if (user && user !== '') {\r\n      setUserName(\"\");\r\n      setPassword(\"\");\r\n      setUserToken(user.userData.userName);\r\n      setIsLogin(true);\r\n    }\r\n  }, [setUserToken, user, userToken]);\r\n\r\n  const onLoginHandler = e => {\r\n    e.preventDefault();\r\n    checkingUser(userName, password);\r\n  };\r\n\r\n  const onRegisterHandler = e => {\r\n    e.preventDefault();\r\n    registerUser(userName, password);\r\n  };\r\n\r\n\r\n  if (islogin) {\r\n    return <Redirect to={mainPage} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-page\">\r\n      <header className=\"page-header user-page__head\">\r\n        <div className=\"logo\">\r\n          <Link to={mainPage} className=\"logo__link\">\r\n            <span className=\"logo__letter logo__letter--1\">W</span>\r\n            <span className=\"logo__letter logo__letter--2\">T</span>\r\n            <span className=\"logo__letter logo__letter--3\">W</span>\r\n          </Link>\r\n        </div>\r\n        {isSignUp ? (\r\n          <h1 className=\"page-title user-page__title\">Sign up</h1>\r\n        ) : (\r\n          <h1 className=\"page-title user-page__title\">Sign in</h1>\r\n        )}\r\n      </header>\r\n\r\n      <div className=\"sign-in user-page__content\">\r\n        <form\r\n          onSubmit={isSignUp ? onRegisterHandler : onLoginHandler}\r\n          action=\"#\"\r\n          className=\"sign-in__form\"\r\n        >\r\n          <div className=\"sign-in__fields\">\r\n            <div className=\"sign-in__field\">\r\n              {isSignUp ? (\r\n                <Link to={signIn} className=\"register__link\">\r\n                  Have an acount?\r\n                </Link>\r\n              ) : (\r\n                <Link to={signUp} className=\"register__link\">\r\n                  Need an acaunt?\r\n                </Link>\r\n              )}\r\n              {userError && (\r\n                <div className=\"sign-in__message\">\r\n                  <p>{userError}</p>\r\n                </div>\r\n              )}\r\n              {isSignUp && (\r\n                <div className=\"sign-in__field\">\r\n                  <input\r\n                    className=\"sign-in__input\"\r\n                    type=\"Email\"\r\n                    placeholder=\"E-mail\"\r\n                    name=\"user-email\"\r\n                    id=\"user-email\"\r\n                    onChange={e => setEmail(e.target.value)}\r\n                    value={email}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <input\r\n                className=\"sign-in__input\"\r\n                placeholder=\"User name\"\r\n                name=\"user-email\"\r\n                id=\"user-email\"\r\n                onChange={e => setUserName(e.target.value)}\r\n                value={userName}\r\n              />\r\n            </div>\r\n            <div className=\"sign-in__field\">\r\n              <input\r\n                className=\"sign-in__input\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"user-password\"\r\n                id=\"user-password\"\r\n                onChange={e => setPassword(e.target.value)}\r\n                value={password}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"sign-in__submit\">\r\n            <button\r\n              className=\"sign-in__btn\"\r\n              type=\"submit\"\r\n              disabled={userLoading}\r\n            >\r\n              {userLoading && <i className=\"fa fa-repeat rotate-animation\"></i>}\r\n              {isSignUp ? `Sign up` : `Sign in`}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Authorization;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport MainPage from \"./pages/main-page/main-page\";\r\nimport SinglePageFilm from \"./pages/single-film-page/single-film-page\";\r\nimport MyList from \"./pages/my-list/my-list\";\r\nimport MainCatalog from \"./component/main-catalog/main-catalog\";\r\nimport Authorization from \"./pages/sign-in/authorization\";\r\nimport { signIn, signUp, myFilmListPage, mainPage,moreInfoPage } from \"./constance/rote-constance\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path={signIn} component={Authorization} />\r\n      <Route path={signUp} component={Authorization} />\r\n      <Route path={myFilmListPage} exact component={MyList} />\r\n\r\n      <Route path={`${mainPage}:id?/:filmId?`}>\r\n        <MainPage>\r\n          {({ loading, films }) => {\r\n            return (\r\n              <Switch>\r\n                <Route path={`${moreInfoPage}/:filmId`} exact>\r\n                  <SinglePageFilm loading={loading} films={films} />\r\n                </Route>\r\n                <Route path={`${mainPage}:id?`} exact>\r\n                  <MainCatalog loading={loading} films={films} />\r\n                </Route>\r\n              </Switch>\r\n            );\r\n          }}\r\n        </MainPage>\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./routes\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { FilmContextProvider } from \"./contexts/film-context-service\";\n\nconst App = () => {\n  return (\n    <div>\n      <FilmContextProvider>\n        <Router>\n          <Routes />\n        </Router>\n      </FilmContextProvider>\n    </div>\n  );\n};\n\nexport default App;\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}