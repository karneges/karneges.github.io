{"version":3,"sources":["component/loading/loading.jsx","component/buttons/action-button.jsx","component/movie-big-card/hooks/use-show-more-classes.jsx","reducers/reducer.jsx","services/api-services.js","action/action-creater.js","contexts/film-context-service.jsx","component/movie-big-card/hooks/use-alert-message.jsx","component/movie-big-card/film-brief.jsx","component/background-image/background-image.jsx","component/video-player/video-player.jsx","utils/utils.js","services/api-users.js","hooks/useUsersService.jsx","constance/authoriazationMessages.js","hooks/useCurrentFilm.jsx","component/movie-big-card/movie-big-card.jsx","hooks/useLocalStorage.jsx","component/header/header.jsx","constance/rote-constance.js","component/footer/footer.jsx","hooks/useCheckUser.jsx","pages/main-page/main-page.jsx","component/tabs-filter/tabs-filter.jsx","component/movie-card-more-info/film-overview.jsx","component/movie-card-more-info/film-details.jsx","component/movie-card-more-info/film-review.jsx","component/movie-card-more-info/Movie-card-more-info.jsx","component/movies-list/movie-card.jsx","component/movies-list/movies-list.jsx","pages/single-film-page/single-film-page.jsx","pages/my-list/my-list.jsx","component/main-catalog/main-catalog.jsx","pages/sign-in/authorization.jsx","routes.jsx","index.jsx"],"names":["Loading","className","ActionButton","iconClass","title","clickHandler","onClick","type","useShowMoreClasses","useState","showMoreState","setShowMoreState","classCardPoster","classNames","classMovieCardInfo","classShowMoreArrow","reducer","state","action","loading","error","films","payload","myFilmList","Array","from","user","userContent","find","item","id","newUser","deleteFilmId","newMyFilmList","filter","userError","userLoading","allUserData","getFilms","Axios","fetchFilmsRequest","userLogin","allUsersData","dataUsers","FilmContext","createContext","initialState","FilmContextProvider","children","store","useReducer","dispatch","useEffect","then","res","data","catch","fetchFilmsFailure","fetchingFilms","Provider","value","useAlertMessage","displayState","setDisplayState","timerId","setTimerId","clearTimeout","onAlertHandler","setTimeout","LoginMessage","style","display","FilmBrief","posterImage","genre","year","iconClasses","addFilmHandler","history","showMoreHandler","showVideoHandler","console","log","useContext","location","pathname","includes","src","alt","width","height","BackgroundImage","image","VideoPlayer","video","onCloseHandler","onKeyDown","e","keyCode","tabIndex","autoPlay","controls","RegistrationUser","name","password","this","userData","userName","myComents","getUserData","a","async","fetch","headers","json","setUserData","newData","method","body","JSON","stringify","versioning","useUsersService","checkingUser","currentUser","userCheker","i","registerUser","Object","keys","length","updateUser","useCallback","userUpdater","addUserContent","useCurrentFilm","match","useRouteMatch","values","params","getCurrentFilm","withRouter","useHistory","currentFilm","released","poster_image","backgroundimage","background_image","video_link","isVideo","setIsVideo","isAdd","togleVideoHandler","s","text","push","url","getUrlFromChangeInfo","film","deleteFilmOnMyList","useLocalStorage","key","initialValue","localStorage","getItem","setValue","setItem","Header","headerTitle","setToken","logaut","path","headerClass","to","toUpperCase","Footer","useCheckUser","userToken","MainPage","globalState","FilterTabs","setFilter","buttons","getActiveClass","toString","FilterButtons","map","FilmOverview","rating","score","scores_count","description","director","starring","join","FilmDetails","runTime","run_time","hours","Math","floor","minutes","getRunTime","FilmReview","MovieCardMoreInfo","filterState","backgroundColor","background_color","getTab","MovieCard","FilmName","playVideo","setPlayVideo","timer","clearInterval","onMouseEnter","onMouseLeave","MovieList","dataFilms","countFilms","Infinity","currentId","movieList","preview_image","preview_video_link","SinglePageFilm","setFilterState","Overview","Details","Reviews","MyList","MainCatalog","setCountFilms","Comedies","Crime","Dramas","Action","Thrillers","Authorization","setUserToken","setUserName","setPassword","email","setEmail","islogin","setIsLogin","isSignUp","setIsSignUp","onSubmit","preventDefault","placeholder","onChange","target","disabled","Routes","component","exact","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.52f58250.chunk.js","sourcesContent":["import React, { Fragment } from 'react';\r\nimport './loading.css'\r\nconst Loading = () => {\r\n  return (\r\n    <Fragment>\r\n      <div className=\"loadingio-spinner-wedges-bckcrtwvkwo\">\r\n        <div className=\"loading\">\r\n          <div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport default Loading;\r\n\r\n","import React from \"react\";\r\n\r\nconst ActionButton = ({ iconClass, title ,clickHandler}) => {\r\n  return (\r\n    <button\r\n    onClick={clickHandler}\r\n     className=\"btn btn--list movie-card__button\" \r\n     type=\"button\">\r\n      <i className={iconClass}>&nbsp;</i>\r\n      <span>{title}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ActionButton;\r\n","\r\nimport classNames from \"classnames\";\r\nimport { useState } from \"react\";\r\n\r\nconst useShowMoreClasses = () => {\r\n  const [showMoreState, setShowMoreState] = useState(false);\r\n\r\n  const classCardPoster = classNames({\r\n    \"movie-card__poster\": !showMoreState,\r\n    \"movie-card__poster movie-card__poster_more\": showMoreState\r\n  });\r\n  const classMovieCardInfo = classNames({\r\n    \"movie-card__info\": !showMoreState,\r\n    \"movie-card__info movie-card__info_more\": showMoreState\r\n  });\r\n  const classShowMoreArrow = classNames({\r\n    \"fa fa-arrow-down fa-lg\": !showMoreState,\r\n    \"fa fa-arrow-down active fa-lg\": showMoreState\r\n  });\r\n\r\n  return {\r\n    classCardPoster,\r\n    classMovieCardInfo,\r\n    classShowMoreArrow,\r\n    setShowMoreState,\r\n    showMoreState\r\n  };\r\n};\r\n\r\nexport default useShowMoreClasses;\r\n","const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_FILMS_REQUEST\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      };\r\n    case \"FETCH_FILMS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        films: action.payload\r\n      };\r\n    case \"FETCH_FILMS_FAILURE\":\r\n      return {\r\n        films: [],\r\n        loading: false,\r\n        error: action.payload,\r\n        myFilmList: []\r\n      };\r\n    case \"ADD_FILM_ON_MY_LIST\":\r\n      if (\r\n        Array.from(state.user.userContent.myFilmList).find(\r\n          item => item.id === action.payload.id\r\n        )\r\n      ) {\r\n        return { ...state };\r\n      }\r\n      const { user } = state;\r\n      const newUser = {\r\n        userContent: {\r\n          myFilmList: []\r\n        }\r\n      };\r\n      newUser.userContent.myFilmList = [\r\n        ...Array.from(user.userContent.myFilmList),\r\n        action.payload\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...user,\r\n          ...newUser\r\n        }\r\n      };\r\n    case \"DELETE_FILM_ON_MY_LIST\":\r\n      const deleteFilmId = action.payload.id;\r\n      const newMyFilmList = state.user.userContent.myFilmList.filter(\r\n        ({ id }) => id !== deleteFilmId\r\n      );\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          ...state.user.userContent,\r\n          ...(state.user.userContent.myFilmList = newMyFilmList)\r\n        }\r\n      };\r\n    case \"FETCH_USER_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        userError: null,\r\n        user: action.payload,\r\n        userLoading: false\r\n      };\r\n    case \"FETCH_USER_REQUEST\":\r\n      return {\r\n        ...state,\r\n        userError: null,\r\n        userLoading: true\r\n      };\r\n    case \"FETCH_USER_ERROR\":\r\n      return {\r\n        ...state,\r\n        userError: action.payload,\r\n        userLoading: false\r\n      };\r\n    case \"USER_LOAGAUT\":\r\n      return {\r\n        ...state,\r\n        user: \"\"\r\n      };\r\n    case \"FETCH_ALL_USER_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        allUserData: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import Axios from \"axios\";\r\n\r\n\r\nconst getFilms = () => {\r\n  return  Axios(\"https://htmlacademy-react-2.appspot.com/wtw/films\")\r\n}\r\n\r\nexport default getFilms;\r\n","import getFilms from \"../services/api-services\";\r\n\r\nconst fetchFilmsRequest = () => {\r\n  return {\r\n    type: 'FETCH_FILMS_REQUEST'\r\n  }\r\n};\r\n\r\nconst fetchFilmsSuccess = (filmsData) => {\r\n  return {\r\n    type: 'FETCH_FILMS_SUCCESS',\r\n    payload: filmsData\r\n  }\r\n}\r\nconst fetchFilmsFailure = (error) => {\r\n  return {\r\n    type: 'FETCH_FILMS_FAILURE',\r\n    payload: error\r\n  }\r\n}\r\nconst addFilmOnMyList = (film) => {\r\n  return {\r\n    type: 'ADD_FILM_ON_MY_LIST',\r\n    payload: film\r\n  }\r\n}\r\nconst deleteFilmOnMyList = (film) => {\r\n  return {\r\n    type: 'DELETE_FILM_ON_MY_LIST',\r\n    payload: film\r\n  }\r\n}\r\n\r\nconst fetchingFilms = (dispatch) => {\r\n  dispatch(fetchFilmsRequest)\r\n  getFilms()\r\n    .then((res) => dispatch(fetchFilmsSuccess(res.data)))\r\n    .catch((error) => dispatch(fetchFilmsFailure(error)))\r\n}\r\n\r\nconst userLoading = () => {\r\n  return {\r\n    type: \"FETCH_USER_REQUEST\",\r\n  }\r\n}\r\nconst userLogin = (user) => {\r\n  return {\r\n    type: \"FETCH_USER_SUCCESS\",\r\n    payload: user\r\n  }\r\n}\r\n\r\nconst userError = (error) => {\r\n  return {\r\n    type: \"FETCH_USER_ERROR\",\r\n    payload: error\r\n  }\r\n}\r\n\r\nconst allUsersData = (dataUsers) => {\r\n  return {\r\n    type: 'FETCH_ALL_USER_SUCCESS',\r\n    payload: dataUsers\r\n  }\r\n}\r\n\r\nconst userLogaut = () => {\r\n  return {\r\n    type: 'USER_LOAGAUT'\r\n  }\r\n}\r\n\r\n\r\n\r\nexport {\r\n  fetchingFilms,\r\n  addFilmOnMyList,\r\n  deleteFilmOnMyList,\r\n  userLogin,\r\n  userError,\r\n  userLoading,\r\n  allUsersData,\r\n  userLogaut\r\n}","import React from 'react';\r\nimport { createContext } from 'react';\r\nimport { useReducer } from 'react';\r\nimport reducer from '../reducers/reducer';\r\nimport { useEffect } from 'react';\r\nimport { fetchingFilms } from '../action/action-creater';\r\n\r\n\r\n\r\nexport const FilmContext = createContext()\r\n\r\nconst initialState = {\r\n  loading:true,\r\n  error:false,\r\n  films:[],\r\n  myFilmList:[],\r\n\r\n}\r\n\r\nexport const FilmContextProvider = ({children}) => {\r\n  const store = useReducer(reducer,initialState)\r\n  const[,dispatch] = store\r\n  useEffect(() => {\r\n    fetchingFilms(dispatch);\r\n  }, [dispatch]);\r\n\r\n\r\n  return (\r\n    <FilmContext.Provider value={store}>\r\n      {children}\r\n    </FilmContext.Provider>\r\n  )\r\n}","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useAlertMessage = () => {\r\n  const [displayState, setDisplayState] = useState(`none`);\r\n  const [timerId, setTimerId] = useState();\r\n  const onAlertHandler = () => {\r\n    setDisplayState(`block`);\r\n    setTimerId(\r\n      setTimeout(() => {\r\n        setDisplayState(`none`);\r\n      }, 2000)\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    return () => clearTimeout(timerId);\r\n  }, [timerId]);\r\n  const LoginMessage = () => {\r\n    return (\r\n      <div style={{ display: displayState }} className=\"alert-message\">\r\n        Please Login\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return { onAlertHandler, LoginMessage };\r\n};\r\nexport default useAlertMessage;\r\n","import React from \"react\";\r\nimport ActionButton from \"../buttons/action-button\";\r\nimport { useEffect } from \"react\";\r\nimport \"./film-brief.scss\";\r\nimport useShowMoreClasses from \"./hooks/use-show-more-classes\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport useAlertMessage from \"./hooks/use-alert-message\";\r\n\r\nconst FilmBrief = ({\r\n  posterImage,\r\n  title,\r\n  genre,\r\n  year,\r\n  iconClasses,\r\n  addFilmHandler,\r\n  history,\r\n  showMoreHandler,\r\n  showVideoHandler\r\n}) => {\r\n\r\n  const {\r\n    classCardPoster,\r\n    classMovieCardInfo,\r\n    classShowMoreArrow,\r\n    setShowMoreState,\r\n    showMoreState\r\n  } = useShowMoreClasses();\r\nconsole.log(showMoreState);\r\n\r\n  const { onAlertHandler, LoginMessage } = useAlertMessage();\r\n  const [{ user }] = useContext(FilmContext);\r\n  useEffect(() => {\r\n    if (history.location.pathname.includes(\"/film\")) {\r\n      setShowMoreState(true);\r\n    } else {\r\n      setShowMoreState(false);\r\n    }\r\n  }, [history.location.pathname, setShowMoreState]);\r\n\r\n  return (\r\n    <div className=\"movie-card__wrap\">\r\n      <div className={classCardPoster}>\r\n        <img src={posterImage} alt={title} width=\"218\" height=\"327\" />\r\n      </div>\r\n      <div className={classMovieCardInfo}>\r\n        <div className=\"movie-card__desc\">\r\n          <h2 className=\"movie-card__title\">{title}</h2>\r\n          <p className=\"movie-card__meta\">\r\n            <span className=\"movie-card__genre\">{genre}</span>\r\n            <span className=\"movie-card__year\">{year}</span>\r\n          </p>\r\n\r\n          <div className=\"movie-card__buttons\">\r\n            { !showMoreState && <ActionButton\r\n              clickHandler={showVideoHandler}\r\n              iconClass={\"fa fa-lg fa-play-circle-o\"}\r\n              title={\"Play\"}\r\n            />}\r\n            <LoginMessage />\r\n            <ActionButton\r\n              iconClass={iconClasses}\r\n              title={\"My list\"}\r\n              clickHandler={user ? addFilmHandler : onAlertHandler}\r\n            />\r\n\r\n            <ActionButton\r\n              iconClass={classShowMoreArrow}\r\n              title={!showMoreState? \"Show More\" :\"Show Less\"}\r\n              clickHandler={showMoreHandler}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* <button onClick={showMoreHandler}>btn</button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilmBrief;\r\n","import React from \"react\";\r\n\r\nconst BackgroundImage = ({image}) => {\r\n  \r\n  return (\r\n    <div className=\"movie-card__bg\">\r\n      <img\r\n        src={image}\r\n        alt=\"The Grand Budapest Hotel\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default BackgroundImage;","import React from \"react\";\r\nimport \"./video-player.scss\";\r\n\r\nconst VideoPlayer = ({ video, onCloseHandler }) => {\r\n\r\n\r\n  const keyCloseVideo = e => {\r\n    if (e.keyCode === 27) {\r\n      onCloseHandler();\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div onKeyDown={keyCloseVideo} className=\"overlay\" tabIndex={1}>\r\n        <div >\r\n          <div\r\n            className=\"modal\">\r\n            <div className=\"modal__close\" onClick={onCloseHandler}>\r\n              &times;\r\n            </div>\r\n            <video className=\"video_player\" autoPlay={true} controls={true}>\r\n              <source src={video} type=\"video/mp4\" />\r\n            </video>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","export const timer = setIsVideo => {\r\n  const timerId = setTimeout(() => {\r\n    setIsVideo(true);\r\n  }, 2000);\r\n  return timerId;\r\n};\r\n\r\n\r\nexport const getCurrentFilm = (match, films) => {\r\n  const getIdentificator = () => {\r\n    return Object.values(match.params).filter(item => item > 0)[0];\r\n  };\r\n  return films[getIdentificator() - 1] || films[0];\r\n}\r\n\r\n\r\nexport const getUrlFromChangeInfo = (currentFilm, match) => {\r\n  if (!match.url.includes(\"film\")) {\r\n    return `/film/${currentFilm.id || 1}`;\r\n  }\r\n  return `/${currentFilm.id}`;\r\n};\r\nexport class RegistrationUser {\r\n  constructor(name, password) {\r\n    this[name] = {};\r\n    this[name].userData = { userName: name, password: password };\r\n    this[name].userContent = { myFilmList: [], myComents: [] };\r\n  }\r\n}\r\n","\r\n\r\n\r\n\r\n\r\nexport const getUserData = async () => {\r\n\r\n  const res = await fetch(\"https://api.jsonbin.io/b/5e39ba5ef47af813baceb350/latest\", {\r\n    headers: {\r\n      'secret-key': '$2b$10$V6nhp3uZuwzZMz1m2hBJ.ukLJbu3smguZlv3.vMz39mpxab5NJY4W'\r\n    }\r\n  })\r\n  return res.json().then((res) => res)\r\n\r\n}\r\nexport const setUserData = async (newData) => {\r\n\r\n  const res = await fetch(\"https://api.jsonbin.io/b/5e39ba5ef47af813baceb350\", {\r\n    method: 'PUT',\r\n    body:JSON.stringify(newData),\r\n    versioning: false,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'secret-key': '$2b$10$V6nhp3uZuwzZMz1m2hBJ.ukLJbu3smguZlv3.vMz39mpxab5NJY4W'\r\n    },\r\n  })\r\n  return res.json().then((res) => res.data)\r\n\r\n}\r\n\r\n","import { getUserData, setUserData } from \"../services/api-users\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../contexts/film-context-service\";\r\nimport {\r\n  userLoading,\r\n  userError,\r\n  userLogin,\r\n  allUsersData\r\n} from \"../action/action-creater\";\r\nimport { RegistrationUser } from \"../utils/utils\";\r\nimport {\r\n  wrongEmailOrPassword,\r\n  wrongUserName\r\n} from \"../constance/authoriazationMessages\";\r\nimport { useCallback } from \"react\";\r\n\r\nconst useUsersService = () => {\r\n  const [{ allUserData, user }, dispatch] = useContext(FilmContext);\r\n\r\n  const checkingUser = (name, password) => {\r\n    dispatch(userLoading());\r\n    let currentUser = \"\";\r\n    getUserData().then(dataUsers => userCheker(dataUsers));\r\n\r\n    const userCheker = dataUsers => {\r\n      dispatch(allUsersData(dataUsers));\r\n      for (let i in dataUsers) {\r\n        if (i === name && dataUsers[i].userData.password === password) {\r\n          currentUser = dataUsers[i];\r\n        }\r\n      }\r\n      if (currentUser) {\r\n        dispatch(userLogin(currentUser));\r\n      } else {\r\n        dispatch(userError(wrongEmailOrPassword));\r\n      }\r\n    };\r\n  };\r\n\r\n  const updateUser = useCallback(\r\n    userName => {\r\n      dispatch(userLoading());\r\n      getUserData().then(dataUsers => {\r\n        userUpdater(dataUsers);\r\n      });\r\n      const userUpdater = dataUsers => {\r\n        dispatch(allUsersData(dataUsers));\r\n        dispatch(userLogin(dataUsers[userName]));\r\n      };\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const registerUser = async (name, password) => {\r\n    dispatch(userLoading());\r\n    const newUser = new RegistrationUser(name, password);\r\n    const dataUsers = await getUserData().then(res => res);\r\n\r\n    if (Object.keys(dataUsers).filter(item => item === name).length > 0) {\r\n      dispatch(userError(wrongUserName));\r\n      return;\r\n    }\r\n    const newData = await setUserData({ ...dataUsers, ...newUser });\r\n    dispatch(userLogin(newData[name]));\r\n    dispatch(allUsersData(newData));\r\n  };\r\n\r\n  const addUserContent = async () => {\r\n    allUserData[user.userData.userName] = {\r\n      ...allUserData[user.userData.userName],\r\n      ...user\r\n    };\r\n\r\n    const newData = await setUserData({ ...allUserData });\r\n    dispatch(allUsersData(newData));\r\n  };\r\n\r\n  return { checkingUser, registerUser, updateUser, addUserContent };\r\n};\r\n\r\nexport default useUsersService;\r\n","export const wrongEmailOrPassword = `We can’t recognize this email and password combination.\r\nPlease try again.`\r\n\r\nexport const wrongUserName = `\r\nThis user already exists`\r\n\r\n","import { useRouteMatch } from \"react-router-dom\";\r\nimport { getCurrentFilm } from \"../utils/utils\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../contexts/film-context-service\";\r\n\r\nexport const useCurrentFilm = () => {\r\n  const [{films}] = useContext(FilmContext)\r\n  const match = useRouteMatch()\r\n\r\n  if(films[0]) {\r\n    return  getCurrentFilm(match,films)\r\n  }\r\n  return {}\r\n}\r\n","import React, { Fragment } from \"react\";\r\nimport { withRouter, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport FilmBrief from \"./film-brief\";\r\nimport BackgroundImage from \"../background-image/background-image\";\r\nimport {\r\n  addFilmOnMyList,\r\n  deleteFilmOnMyList\r\n} from \"../../action/action-creater\";\r\nimport VideoPlayer from \"../video-player/video-player\";\r\nimport { getUrlFromChangeInfo } from \"../../utils/utils\";\r\nimport { useState } from \"react\";\r\nimport useUsersService from \"../../hooks/useUsersService\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\n\r\nconst MovieBigCard = ({ dispatch, myFilmList }) => {\r\n  const history = useHistory();\r\n  const match = useRouteMatch();\r\n  const currentFilm = useCurrentFilm()\r\n  const { addUserContent } = useUsersService();\r\n  const {\r\n    id,\r\n    name: title,\r\n    genre,\r\n    released: year,\r\n    poster_image: posterImage,\r\n    background_image: backgroundimage,\r\n    video_link: video\r\n  } = currentFilm;\r\n  \r\n  const [isVideo, setIsVideo] = useState(false);\r\n\r\n  const isAdd = Array.from(myFilmList).find(item => item.id === id);\r\n\r\n  const iconClasses = classNames({\r\n    \"fa fa-lg fa-plus\": !isAdd,\r\n    \"fa fa-lg fa-check\": isAdd\r\n  });\r\n  const togleFilmOnMyListHandler = () => {\r\n    if (!isAdd) {\r\n      dispatch(addFilmOnMyList(currentFilm));\r\n      addUserContent();\r\n    }\r\n    if (isAdd) {\r\n      dispatch(deleteFilmOnMyList(currentFilm));\r\n      addUserContent();\r\n    }\r\n  };\r\n\r\n  const showMoreHandler = () =>\r\n    history.push(getUrlFromChangeInfo(currentFilm, match));\r\n\r\n  const togleVideoHandler = () => {\r\n    setIsVideo(s => !s);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {isVideo && (\r\n        <VideoPlayer\r\n          video={video}\r\n          text={`text`}\r\n          onCloseHandler={togleVideoHandler}\r\n        />\r\n      )}\r\n      <BackgroundImage image={backgroundimage} />\r\n      <FilmBrief\r\n        showVideoHandler={togleVideoHandler}\r\n        showMoreHandler={showMoreHandler}\r\n        history={history}\r\n        addFilmHandler={togleFilmOnMyListHandler}\r\n        posterImage={posterImage}\r\n        genre={genre}\r\n        year={year}\r\n        title={title}\r\n        iconClasses={iconClasses}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\nexport default withRouter(MovieBigCard);\r\n","import { useState, useEffect } from \"react\"\r\n\r\nconst useLocalStorage = (key,initialValue='') => {\r\n  const [value,setValue] = useState(() => {\r\n    return localStorage.getItem(key) || initialValue\r\n  });\r\n\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key,value)    \r\n  },[value,key])\r\n\r\n  return [value,setValue]\r\n}\r\n\r\nexport default useLocalStorage;","import React from \"react\";\r\nimport { Link, useRouteMatch} from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport {\r\n  myFilmListPage,\r\n  signIn,\r\n  mainPage\r\n} from \"../../constance/rote-constance\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\nimport { userLogaut } from \"../../action/action-creater\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Header = ({ headerTitle }) => {\r\n  const [,setToken] = useLocalStorage(`userToken`)\r\n  const [{ user },dispatch] = useContext(FilmContext);\r\n  let logaut = false;\r\n  const match = useRouteMatch();\r\n  if (match.path === myFilmListPage) {\r\n    logaut = true;\r\n  }\r\nconst onLogaut = () => {\r\n  dispatch(userLogaut())\r\n}\r\n\r\nuseEffect(()=>{\r\n  if(user==='') {\r\n    setToken('')\r\n  }\r\n},[setToken, user])\r\n\r\n\r\n  const headerClass = headerTitle\r\n    ? \"page-header user-page__head\"\r\n    : \"page-header movie-card__head\";\r\n\r\n  return (\r\n    <header className={headerClass}>\r\n      <div className=\"logo\">\r\n        <Link to={mainPage} className=\"logo__link\">\r\n          <span className=\"logo__letter logo__letter--1\">W</span>\r\n          <span className=\"logo__letter logo__letter--2\">T</span>\r\n          <span className=\"logo__letter logo__letter--3\">W</span>\r\n        </Link>\r\n      </div>\r\n      {headerTitle && (\r\n        <h1 className=\"page-title user-page__title\">{headerTitle}</h1>\r\n      )}\r\n      {user && !logaut && (\r\n        <Link to={myFilmListPage} className=\"user-block\">\r\n          <div className=\"user-block__avatar\">\r\n            {user && user.userData.userName.toUpperCase()[0]}\r\n          </div>\r\n        </Link>\r\n      )}\r\n\r\n      {!user && (\r\n        <Link to={signIn} className=\"user-block__link\">\r\n          Sign in\r\n        </Link>\r\n      )}\r\n      {logaut &&\r\n        <Link \r\n        onClick={onLogaut}\r\n        to={mainPage} className=\"user-block__link\">\r\n          Logaut\r\n        </Link>\r\n      }\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export const signIn = `/signin`\r\nexport const signUp = `/signup`\r\nexport const mainPage = `/`\r\nexport const moreInfoPage = '/film'\r\nexport const myFilmListPage = '/mylist'","import React from \"react\";\r\nimport { mainPage } from \"../../constance/rote-constance\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"page-footer\">\r\n      <div className=\"logo\">\r\n        <Link to={mainPage} className=\"logo__link logo__link--light\">\r\n          <span className=\"logo__letter logo__letter--1\">W</span>\r\n          <span className=\"logo__letter logo__letter--2\">T</span>\r\n          <span className=\"logo__letter logo__letter--3\">W</span>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"copyright\">\r\n        <p>© 2019 What to watch Ltd.</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { useEffect } from 'react';\r\nimport { useContext } from 'react';\r\nimport { FilmContext } from '../contexts/film-context-service';\r\nimport useLocalStorage from './useLocalStorage';\r\nimport useUsersService from './useUsersService';\r\n\r\nconst useCheckUser = () => {\r\n  const [{user}] = useContext(FilmContext)\r\n  const [userToken] = useLocalStorage(`userToken`)\r\n  const {updateUser} = useUsersService()\r\n  useEffect(() => {\r\n    if (!user && user !== '' && userToken) {\r\n\r\n      updateUser(userToken);\r\n    }\r\n  }, [updateUser, user, userToken]);\r\n}\r\n\r\nexport default useCheckUser;","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Fragment } from \"react\";\n\nimport Loading from \"../../component/loading/loading\";\nimport MovieBigCard from \"../../component/movie-big-card/movie-big-card\";\nimport { useContext } from \"react\";\nimport { FilmContext } from \"../../contexts/film-context-service\";\nimport \"./style.css\";\nimport Header from \"../../component/header/header\";\nimport Footer from \"../../component/footer/footer\";\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\nimport useCheckUser from \"../../hooks/useCheckUser\";\n\nconst MainPage = ({ children }) => {\n  const [globalState, dispatch] = useContext(FilmContext);\n  const { films, loading, user } = globalState;\n  const currentFilm = useCurrentFilm();\n  const myFilmList = user ? user.userContent.myFilmList : {};\n  useCheckUser();\n\n  return (\n    <Fragment>\n      <section className=\"movie-card\">\n        <Header />\n        {loading && <Loading />}\n        {!loading && films !== null && (\n          <MovieBigCard\n            myFilmList={myFilmList}\n            currentFilm={currentFilm}\n            dispatch={dispatch}\n          />\n        )}\n      </section>\n      <div className=\"page-content\">\n        {children({ loading, films })}\n        <Footer />\n      </div>\n    </Fragment>\n  );\n};\n\n\nexport default MainPage;\n","import React from \"react\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\n\r\nconst FilterTabs = ({filter,setFilter,buttons=[],className}) => {\r\n  const handler = value => {\r\n    setFilter(...value)\r\n  };\r\n\r\nconst getActiveClass = (item) => {  \r\n  // eslint-disable-next-line eqeqeq\r\n  if (Object.values(item).toString() == [...filter]){\r\n   return \"catalog__genres-item catalog__genres-item--active\" \r\n  }\r\n  return \"catalog__genres-item\"\r\n}\r\n\r\n\r\n  const {url} = useRouteMatch()\r\n\r\n  const FilterButtons = buttons.map((item, id) => {\r\n\r\n    return (\r\n      <li\r\n      onClick={() => handler(Object.values(item))}\r\n        key={id}\r\n        className={getActiveClass(item)}\r\n      >\r\n        <Link to={url} className=\"catalog__genres-link\">\r\n          {Object.keys(item)}\r\n        </Link>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return <ul className={className}>{FilterButtons}</ul>;\r\n};\r\n\r\nexport default FilterTabs;\r\n","import React, { Fragment } from \"react\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\nconst FilmOverview = () => {\r\n  const {\r\n    rating,\r\n    scores_count: score,\r\n    description,\r\n    director,\r\n    starring\r\n  } = useCurrentFilm();\r\n  return (\r\n    <Fragment>\r\n      <div className=\"movie-rating\">\r\n        <div className=\"movie-rating__score\">{rating}</div>\r\n        <p className=\"movie-rating__meta\">\r\n          <span className=\"movie-rating__count\">{score} votes</span>\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"movie-card__text\">\r\n        <p>{description}</p>\r\n        <p className=\"movie-card__director\">\r\n          <strong>Director:{director}</strong>\r\n        </p>\r\n\r\n        <p className=\"movie-card__starring\">\r\n          <strong>{starring.join(\" ,\")}</strong>\r\n        </p>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FilmOverview;\r\n","import React from \"react\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\nconst FilmDetails = () => {\r\n  const { director, starring, run_time: runTime,genre,released } = useCurrentFilm();\r\n\r\n  const getRunTime = () => {\r\n    const hours = Math.floor(runTime / 60);\r\n    const minutes = runTime % 60;\r\n    return `${hours}h ${minutes}m`;\r\n  };\r\n  return (\r\n    <div className=\"movie-card__text movie-card__row\">\r\n      <div className=\"movie-card__text-col\">\r\n        <p className=\"movie-card__details-item\">\r\n          <strong className=\"movie-card__details-name\">Director</strong>\r\n          <span className=\"movie-card__details-value\">{director}</span>\r\n        </p>\r\n        <p className=\"movie-card__details-item\">\r\n          <strong className=\"movie-card__details-name\">Starring</strong>\r\n          <span className=\"movie-card__details-value\">{starring.join(\" \")}</span>\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"movie-card__text-col\">\r\n        <p className=\"movie-card__details-item\">\r\n          <strong className=\"movie-card__details-name\">Run Time</strong>\r\n          <span className=\"movie-card__details-value\">{getRunTime()}</span>\r\n        </p>\r\n        <p className=\"movie-card__details-item\">\r\n          <strong className=\"movie-card__details-name\">Genre</strong>\r\n          <span className=\"movie-card__details-value\">{genre}</span>\r\n        </p>\r\n        <p className=\"movie-card__details-item\">\r\n          <strong className=\"movie-card__details-name\">Released</strong>\r\n          <span className=\"movie-card__details-value\">{released}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilmDetails;\r\n","import React from 'react';\r\n\r\nconst FilmReview = () => {\r\n  return (\r\n    <h1>FilmReview</h1>\r\n  )\r\n}\r\n\r\nexport default FilmReview;","import React from \"react\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\nimport FilmOverview from \"./film-overview\";\r\nimport FilmDetails from \"./film-details\";\r\nimport FilmReview from \"./film-review\";\r\n\r\nconst MovieCardMoreInfo = ({ filterState }) => {\r\n  const { background_color: backgroundColor } = useCurrentFilm();\r\n\r\n  const getTab = () => {\r\n    switch (filterState[0]) {\r\n      case \"overviewFilm\":\r\n        return <FilmOverview />;\r\n      case \"detailsFilm\":\r\n        return <FilmDetails />;\r\n      case \"reviewsFilm\":\r\n        return <FilmReview />;\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className=\"movie-card movie-card--full\"\r\n      style={{ backgroundColor: backgroundColor }}\r\n    >\r\n      <div className=\"movie-card__wrap movie-card__translate-top\">\r\n        <div className=\"movie-card__info\">\r\n          <div className=\"movie-card__desc\">{getTab()}</div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MovieCardMoreInfo;\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { timer } from \"../../utils/utils\";\r\n\r\nconst MovieCard = ({ image, FilmName, id, video, genre }) => {\r\n  const [isVideo, setIsVideo] = useState(false);\r\n  const [playVideo, setPlayVideo] = useState(false);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    let timerId = \"\";\r\n    if (isVideo) {\r\n      timerId = timer(setPlayVideo);\r\n    }\r\n    return () => {\r\n      setPlayVideo(false);\r\n      clearInterval(timerId);\r\n    };\r\n  }, [isVideo]);\r\n\r\n  const VideoState = ({ video }) => {\r\n    return (\r\n      <video\r\n        className=\"small-movie-card__image\"\r\n        autoPlay={true}\r\n        controls={false}\r\n      >\r\n        <source src={video} type=\"video/mp4\" />\r\n      </video>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <article\r\n      className=\"small-movie-card catalog__movies-card\"\r\n      onMouseEnter={() => setIsVideo(true)}\r\n      onMouseLeave={() => setIsVideo(false)}\r\n    >\r\n      {playVideo && <VideoState video={video} />}\r\n      {!playVideo && (\r\n        <Fragment>\r\n          <div\r\n            className=\"small-movie-card__image\"\r\n            onClick={() => history.push(`/${id}`)}\r\n          >\r\n            <img src={image} alt={FilmName} width=\"280\" height=\"175\" />\r\n          </div>\r\n          <h3 className=\"small-movie-card__title\">\r\n            <Link to={`/${id}`} className=\"small-movie-card__link\">\r\n              {FilmName} {genre}\r\n            </Link>\r\n          </h3>\r\n        </Fragment>\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default MovieCard;\r\n","/* eslint-disable eqeqeq */\r\nimport React from \"react\";\r\nimport MovieCard from \"./movie-card\";\r\n\r\nconst MovieList = ({ dataFilms, filter = [], countFilms = Infinity }) => {\r\n  let currentId = 1;\r\n  const movieList = dataFilms.map(film => {\r\n    if (\r\n      (filter.includes(film.genre) || filter == false) &&\r\n      currentId <= countFilms\r\n    ) {\r\n      ++currentId;\r\n      return (\r\n        <MovieCard\r\n          id={film.id}\r\n          key={film.id}\r\n          FilmName={film.name}\r\n          image={film.preview_image}\r\n          video={film.preview_video_link}\r\n          genre={film.genre}\r\n        />\r\n      );\r\n    }\r\n\r\n    return null;\r\n  });\r\n  return <div className=\"catalog__movies-list\">{movieList}</div>;\r\n};\r\n\r\nexport default MovieList;\r\n","import React, { Fragment } from \"react\";\r\nimport \"./single-film-page.css\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport { useState } from \"react\";\r\nimport FilterTabs from \"../../component/tabs-filter/tabs-filter\";\r\nimport Loading from \"../../component/loading/loading\";\r\nimport MovieCardMoreInfo from \"../../component/movie-card-more-info/Movie-card-more-info\";\r\nimport MovieList from \"../../component/movies-list/movies-list\";\r\nimport { useCurrentFilm } from \"../../hooks/useCurrentFilm\";\r\n\r\nconst SinglePageFilm = () => {\r\n  const [globalState] = useContext(FilmContext);\r\n  const { films, loading} = globalState;\r\n  const currentFilm = useCurrentFilm();\r\n  const FilterButtons = [\r\n    { Overview: [\"overviewFilm\"] },\r\n    { Details: [\"detailsFilm\"] },\r\n    { Reviews: [\"reviewsFilm\"] }\r\n  ];\r\n\r\n  const [filterState, setFilterState] = useState([\"overviewFilm\"]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <nav className=\"movie-nav movie-card__nav\">\r\n        <FilterTabs\r\n          filter={filterState}\r\n          setFilter={setFilterState}\r\n          buttons={FilterButtons}\r\n          className={\"movie-nav__list\"}\r\n        />\r\n      </nav>\r\n\r\n      {loading && <Loading />}\r\n      {!loading && films && (\r\n        <Fragment>\r\n          <MovieCardMoreInfo filterState={filterState} />\r\n          <div className=\"page-content\">\r\n            <section className=\"catalog catalog--like-this\">\r\n              <h2 className=\"catalog__title\">More like this</h2>\r\n              <MovieList\r\n                dataFilms={films}\r\n                filter={currentFilm.genre}\r\n                countFilms={4}\r\n              />\r\n            </section>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SinglePageFilm;\r\n","import React, { Fragment } from \"react\";\r\nimport Footer from \"../../component/footer/footer\";\r\nimport Header from \"../../component/header/header\";\r\nimport MovieList from \"../../component/movies-list/movies-list\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport useCheckUser from \"../../hooks/useCheckUser\";\r\n\r\nconst MyList = () => {\r\n  const [globalState] = useContext(FilmContext);\r\n  const { user } = globalState;\r\n  const myFilmList  = user ? user.userContent.myFilmList :[]\r\n  useCheckUser()\r\n  return (\r\n    <Fragment>\r\n      <div className=\"user-page\">\r\n        <Header headerTitle={\"My list\"} />\r\n\r\n        <section className=\"catalog\">\r\n          <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n          <MovieList dataFilms={myFilmList} />\r\n        </section>\r\n\r\n        <Footer />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MyList;\r\n","import React from \"react\";\r\nimport FilterTabs from \"../tabs-filter/tabs-filter\";\r\nimport MovieList from \"./../movies-list/movies-list\";\r\nimport Loading from \"../loading/loading\";\r\nimport { useState } from \"react\";\r\nconst MainCatalog = ({ films, loading }) => {\r\n  const [countFilms, setCountFilms] = useState(12);\r\n  const buttons = [\r\n    { \"All genres\": [\"\"] },\r\n    { Comedies: [\"Comedy\"] },\r\n    { Crime: [\"Crime\"] },\r\n    { Dramas: [\"Drama\"] },\r\n    { Action: [\"Action\"] },\r\n    { \"Kids & Family\": [\"Fantasy\", \"Adventure\"] },\r\n    { Thrillers: [\"Thriller\"] }\r\n  ];\r\n\r\n  const [filter, setFilter] = useState(\"\");\r\n  return (\r\n    <section className=\"catalog\">\r\n      <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n      <FilterTabs\r\n        setFilter={setFilter}\r\n        filter={filter}\r\n        buttons={buttons}\r\n        className={\"catalog__genres-list\"}\r\n      />\r\n      {loading && <Loading />}\r\n      {!loading && films !== null && (\r\n        <MovieList dataFilms={films} filter={filter} countFilms={countFilms} />\r\n      )}\r\n\r\n      <div className=\"catalog__more\">\r\n        <button\r\n          onClick={() => setCountFilms(s => s + 10)}\r\n          className=\"catalog__button\"\r\n          type=\"button\"\r\n        >\r\n          Show more\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default MainCatalog;\r\n","import React from \"react\";\r\nimport Footer from \"../../component/footer/footer\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { FilmContext } from \"../../contexts/film-context-service\";\r\nimport useUsersService from \"../../hooks/useUsersService\";\r\nimport { Redirect, useRouteMatch, Link } from \"react-router-dom\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\nimport \"./authorization.scss\";\r\nimport useCheckUser from \"../../hooks/useCheckUser\";\r\nimport { signIn, signUp, mainPage } from \"../../constance/rote-constance\";\r\n\r\nconst Authorization = () => {\r\n  const [userToken, setUserToken] = useLocalStorage(`userToken`);\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [islogin, setIsLogin] = useState(false);\r\n  const [{ user, userError, userLoading }] = useContext(FilmContext);\r\n  const match = useRouteMatch();\r\n  const { checkingUser, registerUser} = useUsersService();\r\n  const [isSignUp, setIsSignUp] = useState(false);\r\n/// Реализовать загрузку списмка фильмов на сервер \r\n// Реализовать загрузку коментариев на сервер \r\n\r\n// \r\n  useCheckUser();\r\n  useEffect(() => {\r\n    if (match.path === signUp) {\r\n      setIsSignUp(true);\r\n    } else {\r\n      setIsSignUp(false);\r\n    }\r\n  }, [match.path]);\r\n\r\n  useEffect(() => {\r\n    if (user && user !== '') {\r\n      setUserName(\"\");\r\n      setPassword(\"\");\r\n      setUserToken(user.userData.userName);\r\n      setIsLogin(true);\r\n    }\r\n  }, [setUserToken, user, userToken]);\r\n\r\n  const onLoginHandler = e => {\r\n    e.preventDefault();\r\n    checkingUser(userName, password);\r\n  };\r\n\r\n  const onRegisterHandler = e => {\r\n    e.preventDefault();\r\n    registerUser(userName, password);\r\n  };\r\n\r\n\r\n  if (islogin) {\r\n    return <Redirect to={mainPage} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-page\">\r\n      <header className=\"page-header user-page__head\">\r\n        <div className=\"logo\">\r\n          <Link to={mainPage} className=\"logo__link\">\r\n            <span className=\"logo__letter logo__letter--1\">W</span>\r\n            <span className=\"logo__letter logo__letter--2\">T</span>\r\n            <span className=\"logo__letter logo__letter--3\">W</span>\r\n          </Link>\r\n        </div>\r\n        {isSignUp ? (\r\n          <h1 className=\"page-title user-page__title\">Sign up</h1>\r\n        ) : (\r\n          <h1 className=\"page-title user-page__title\">Sign in</h1>\r\n        )}\r\n      </header>\r\n\r\n      <div className=\"sign-in user-page__content\">\r\n        <form\r\n          onSubmit={isSignUp ? onRegisterHandler : onLoginHandler}\r\n          action=\"#\"\r\n          className=\"sign-in__form\"\r\n        >\r\n          <div className=\"sign-in__fields\">\r\n            <div className=\"sign-in__field\">\r\n              {isSignUp ? (\r\n                <Link to={signIn} className=\"register__link\">\r\n                  Have an acount?\r\n                </Link>\r\n              ) : (\r\n                <Link to={signUp} className=\"register__link\">\r\n                  Need an acaunt?\r\n                </Link>\r\n              )}\r\n              {userError && (\r\n                <div className=\"sign-in__message\">\r\n                  <p>{userError}</p>\r\n                </div>\r\n              )}\r\n              {isSignUp && (\r\n                <div className=\"sign-in__field\">\r\n                  <input\r\n                    className=\"sign-in__input\"\r\n                    type=\"Email\"\r\n                    placeholder=\"E-mail\"\r\n                    name=\"user-email\"\r\n                    id=\"user-email\"\r\n                    onChange={e => setEmail(e.target.value)}\r\n                    value={email}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <input\r\n                className=\"sign-in__input\"\r\n                placeholder=\"User name\"\r\n                name=\"user-email\"\r\n                id=\"user-email\"\r\n                onChange={e => setUserName(e.target.value)}\r\n                value={userName}\r\n              />\r\n            </div>\r\n            <div className=\"sign-in__field\">\r\n              <input\r\n                className=\"sign-in__input\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"user-password\"\r\n                id=\"user-password\"\r\n                onChange={e => setPassword(e.target.value)}\r\n                value={password}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"sign-in__submit\">\r\n            <button\r\n              className=\"sign-in__btn\"\r\n              type=\"submit\"\r\n              disabled={userLoading}\r\n            >\r\n              {userLoading && <i className=\"fa fa-repeat rotate-animation\"></i>}\r\n              {isSignUp ? `Sign up` : `Sign in`}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Authorization;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport MainPage from \"./pages/main-page/main-page\";\r\nimport SinglePageFilm from \"./pages/single-film-page/single-film-page\";\r\nimport MyList from \"./pages/my-list/my-list\";\r\nimport MainCatalog from \"./component/main-catalog/main-catalog\";\r\nimport Authorization from \"./pages/sign-in/authorization\";\r\nimport {\r\n  signIn,\r\n  signUp,\r\n  myFilmListPage,\r\n  mainPage,\r\n  moreInfoPage\r\n} from \"./constance/rote-constance\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path={signIn} component={Authorization} />\r\n      <Route path={signUp} component={Authorization} />\r\n      <Route path={myFilmListPage} exact component={MyList} />\r\n\r\n      <Route path={`${mainPage}:id?/:filmId?`}>\r\n        <MainPage>\r\n          {({ loading, films }) => {\r\n            return (\r\n              <Switch>\r\n                <Route path={`${moreInfoPage}/:filmId`} exact>\r\n                  <SinglePageFilm loading={loading} films={films} />\r\n                </Route>\r\n                <Route path={`${mainPage}:id?`} exact>\r\n                  <MainCatalog loading={loading} films={films} />\r\n                </Route>\r\n              </Switch>\r\n            );\r\n          }}\r\n        </MainPage>\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./routes\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport { FilmContextProvider } from \"./contexts/film-context-service\";\n\nconst App = () => {\n  return (\n    <div>\n      <FilmContextProvider>\n        <Router>\n          <Routes />\n        </Router>\n      </FilmContextProvider>\n    </div>\n  );\n};\n\nexport default App;\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}