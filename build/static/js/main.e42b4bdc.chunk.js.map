{"version":3,"sources":["component/loading/loading.jsx","component/movies-list/movie-card.jsx","utils/utils.js","component/movies-list/movies-list.jsx","component/buttons/action-button.jsx","component/movie-big-card/film-brief.jsx","component/background-image/background-image.jsx","services/api-services.js","action/action-creater.js","component/movie-big-card/movie-big-card.jsx","reducers/reducer.jsx","contexts/film-context-service.jsx","component/header/header.jsx","component/footer/footer.jsx","component/tabs-filter/tabs-filter.jsx","component/main-catalog/main-catalog.jsx","pages/main-page/main-page.jsx","pages/single-film-page/single-film-page.jsx","pages/my-list/my-list.jsx","routes.jsx","index.jsx"],"names":["Loading","className","MovieCard","image","FilmName","id","video","genre","useState","isVideo","setIsVideo","playVideo","setPlayVideo","useEffect","timerId","setTimeout","timer","clearInterval","onMouseEnter","onMouseLeave","autoPlay","controls","src","type","alt","width","height","to","href","MovieList","dataFilms","filter","movieList","map","film","includes","key","name","preview_image","preview_video_link","ActionButton","iconClass","title","clickHandler","onClick","FilmBrief","posterImage","year","iconClasses","addFilmHandler","BackgroundImage","getFilms","Axios","fetchFilmsRequest","withRouter","match","dispatch","myFilmList","currentFilm","params","released","poster_image","backgroundimage","background_image","isAdd","find","item","classNames","payload","reducer","state","action","console","log","loading","error","films","FilmContext","createContext","initialState","FilmContextProvider","children","store","useReducer","Provider","value","Header","headerTitle","headerClass","Footer","FilterTabs","setFilter","FilterButtons","Comedies","Crime","Dramas","Action","Thrillers","Object","values","keys","MainCatalog","MainPage","useContext","globalState","then","res","data","catch","fetchFilmsFailure","fetchingBooks","SinglePageFilm","MyList","Routes","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e42b4bdc.chunk.js","sourcesContent":["import React, { Fragment } from 'react';\r\nimport './loading.css'\r\nconst Loading = () => {\r\n  return (\r\n    <Fragment>\r\n      <div className=\"loadingio-spinner-wedges-bckcrtwvkwo\">\r\n        <div className=\"loading\">\r\n          <div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n            <div>\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport default Loading;\r\n\r\n","import React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { timer } from \"../../utils/utils\";\r\n\r\nconst MovieCard = ({ image, FilmName, id, video,genre }) => {\r\n  const [isVideo, setIsVideo] = useState(false);\r\n  const [playVideo, setPlayVideo] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let timerId = \"\";\r\n    if (isVideo) {\r\n      timerId = timer(setPlayVideo);\r\n    }\r\n    return () => {\r\n      setPlayVideo(false);\r\n      clearInterval(timerId);\r\n    };\r\n  }, [isVideo]);\r\n\r\n  const VideoState = ({ video }) => {\r\n    return (\r\n      <video\r\n        className=\"small-movie-card__image\"\r\n        autoPlay={true}\r\n        controls={false}\r\n      >\r\n        <source src={video}  type=\"video/mp4\" />\r\n      </video>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <article\r\n      className=\"small-movie-card catalog__movies-card\"\r\n      onMouseEnter={() => setIsVideo(true)}\r\n      onMouseLeave={() => setIsVideo(false)}\r\n    >\r\n      {playVideo && <VideoState video={video} />}\r\n      {!playVideo && (\r\n        <Fragment>\r\n          <div className=\"small-movie-card__image\">\r\n            <img src={image} alt={FilmName} width=\"280\" height=\"175\" />\r\n          </div>\r\n          <h3 className=\"small-movie-card__title\">\r\n            <Link\r\n              to={`/${id}`}\r\n              className=\"small-movie-card__link\"\r\n              href=\"movie-page.html\"\r\n            >\r\n              {FilmName}   {genre}\r\n            </Link>\r\n          </h3>\r\n        </Fragment>\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default MovieCard;\r\n","export   const timer = setIsVideo => {\r\n  const timerId = setTimeout(() => {\r\n    setIsVideo(true);\r\n  }, 1000);\r\n  return timerId;\r\n};\r\n","/* eslint-disable eqeqeq */\r\nimport React from \"react\";\r\nimport MovieCard from \"./movie-card\";\r\n\r\n\r\nconst MovieList = ({ dataFilms, filter=[] }) => {\r\n  \r\n  const movieList = dataFilms.map(film => {\r\n    if (filter.includes(film.genre) || filter==false) {\r\n      return (\r\n        <MovieCard\r\n          id={film.id}\r\n          key={film.id}\r\n          FilmName={film.name}\r\n          image={film.preview_image}\r\n          video={film.preview_video_link}\r\n          genre={film.genre}\r\n        />\r\n      );\r\n    }\r\n\r\n    return null;\r\n  });\r\n  return <div className=\"catalog__movies-list\">{movieList}</div>;\r\n};\r\n\r\nexport default MovieList;\r\n","import React from \"react\";\r\n\r\nconst ActionButton = ({ iconClass, title ,clickHandler}) => {\r\n  return (\r\n    <button\r\n    onClick={clickHandler}\r\n     className=\"btn btn--list movie-card__button\" \r\n     type=\"button\">\r\n      <i className={iconClass}>&nbsp;</i>\r\n      <span>{title}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ActionButton;\r\n","import React from 'react';\r\nimport ActionButton from '../buttons/action-button';\r\n\r\nconst FilmBrief = ({posterImage,title,genre,year,iconClasses,addFilmHandler}) => {\r\n  return (\r\n    <div className=\"movie-card__wrap\">\r\n    <div className=\"movie-card__info\">\r\n      <div className=\"movie-card__poster\">\r\n        <img src={posterImage} alt={title} width=\"218\" height=\"327\" />\r\n      </div>\r\n\r\n      <div className=\"movie-card__desc\">\r\n        <h2 className=\"movie-card__title\">{title}</h2>\r\n        <p className=\"movie-card__meta\">\r\n          <span className=\"movie-card__genre\">{genre}</span>\r\n          <span className=\"movie-card__year\">{year}</span>\r\n        </p>\r\n\r\n        <div className=\"movie-card__buttons\">\r\n          <ActionButton\r\n            iconClass={\"fa fa-lg fa-play-circle-o\"}\r\n            title={\"Play\"}\r\n          />\r\n          <ActionButton \r\n          iconClass={iconClasses} \r\n          title={\"My list\"} \r\n          clickHandler={addFilmHandler} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  )\r\n  }\r\n  \r\n\r\n\r\nexport default FilmBrief;","import React from \"react\";\r\n\r\nconst BackgroundImage = ({image}) => {\r\n  \r\n  return (\r\n    <div className=\"movie-card__bg\">\r\n      <img\r\n        src={image}\r\n        alt=\"The Grand Budapest Hotel\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default BackgroundImage;","import Axios from \"axios\";\r\n\r\n\r\nconst getFilms = () => {\r\n  return  Axios(\"https://htmlacademy-react-2.appspot.com/wtw/films\")\r\n}\r\n\r\nexport default getFilms;\r\n","import getFilms from \"../services/api-services\";\r\n\r\nconst fetchFilmsRequest = () => {\r\n  return {\r\n    type: 'FETCH_FILMS_REQUEST'\r\n  }\r\n};\r\n\r\nconst fetchFilmsSuccess = (filmsData) => {\r\n  return {\r\n    type: 'FETCH_FILMS_SUCCESS',\r\n    payload: filmsData\r\n  }\r\n}\r\nconst fetchFilmsFailure = (error) => {\r\n  return {\r\n    type: 'FETCH_FILMS_FAILURE',\r\n    payload: error\r\n  }\r\n}\r\nconst addFilmOnMyList = (film) => {\r\n  return {\r\n    type: 'ADD_FILM_ON_MY_LIST',\r\n    payload: film\r\n  }\r\n}\r\n\r\nconst fetchingBooks = (dispatch) => {\r\n  dispatch(fetchFilmsRequest)\r\n  getFilms()\r\n  .then((res)=>dispatch(fetchFilmsSuccess(res.data)))\r\n  .catch((error)=>dispatch(fetchFilmsFailure(error)))\r\n}\r\n\r\nexport {\r\n  fetchingBooks,\r\n  addFilmOnMyList\r\n}","import React, { Fragment } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport FilmBrief from \"./film-brief\";\r\nimport BackgroundImage from \"../background-image/background-image\";\r\nimport { addFilmOnMyList } from \"../../action/action-creater\";\r\nconst MovieBigCard = ({ match, dataFilms, dispatch, myFilmList }) => {\r\n  const currentFilm = dataFilms[match.params.id - 1] || dataFilms[0];\r\n  const {\r\n    id,\r\n    name: title,\r\n    genre,\r\n    released: year,\r\n    poster_image: posterImage,\r\n    background_image: backgroundimage\r\n  } = currentFilm;\r\n\r\n  const isAdd = myFilmList.find(item => item.id === id);\r\n\r\n  const iconClasses = classNames({\r\n    \"fa fa-lg fa-plus\": !isAdd,\r\n    \"fa fa-lg fa-check\": isAdd\r\n  });\r\n  const addFilmHandler = () => {\r\n    dispatch(addFilmOnMyList(currentFilm));\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <BackgroundImage image={backgroundimage} />\r\n      <FilmBrief\r\n        addFilmHandler={addFilmHandler}\r\n        posterImage={posterImage}\r\n        genre={genre}\r\n        year={year}\r\n        title={title}\r\n        iconClasses={iconClasses}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\nexport default withRouter(MovieBigCard);\r\n","const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_FILMS_REQUEST\":\r\n      console.log(`загрузка в тру`);\r\n\r\n      return {\r\n          ...state,\r\n          loading: true,\r\n          error: null\r\n      };\r\n    case \"FETCH_FILMS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        films:action.payload,\r\n\r\n      };\r\n    case \"FETCH_FILMS_FAILURE\":\r\n      return {\r\n        films: [],\r\n        loading: false,\r\n        error: action.payload,\r\n        myFilmList:[]\r\n      };\r\n    case \"ADD_FILM_ON_MY_LIST\":\r\n      if(state.myFilmList.find((item)=>item.id === action.payload.id) ) {\r\n        return {...state}\r\n      }\r\n      return {\r\n        ...state,\r\n        myFilmList:[...state.myFilmList,action.payload]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n\r\n\r\n","import React from 'react';\r\nimport { createContext } from 'react';\r\nimport { useReducer } from 'react';\r\nimport reducer from '../reducers/reducer';\r\n\r\n\r\n\r\nexport const FilmContext = createContext()\r\n\r\nconst initialState = {\r\n  loading:true,\r\n  error:false,\r\n  films:[],\r\n  myFilmList:[]\r\n}\r\n\r\nexport const FilmContextProvider = ({children}) => {\r\n  const store = useReducer(reducer,initialState)\r\n  return (\r\n    <FilmContext.Provider value={store}>\r\n      {children}\r\n    </FilmContext.Provider>\r\n  )\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = ({ headerTitle }) => {\r\n  const headerClass = headerTitle\r\n    ? \"page-header user-page__head\"\r\n    : \"page-header movie-card__head\";\r\n\r\n  return (\r\n    <header className={headerClass}>\r\n      <div className=\"logo\">\r\n        <Link to='/' className=\"logo__link\">\r\n          <span className=\"logo__letter logo__letter--1\">W</span>\r\n          <span className=\"logo__letter logo__letter--2\">T</span>\r\n          <span className=\"logo__letter logo__letter--3\">W</span>\r\n        </Link>\r\n      </div>\r\n      {headerTitle && (\r\n        <h1 className=\"page-title user-page__title\">{headerTitle}</h1>\r\n      )}\r\n\r\n      <Link to='/mylist' className=\"user-block\">\r\n        <div className=\"user-block__avatar\">\r\n          <img src=\"img/avatar.jpg\" alt=\"User avatar\" width=\"63\" height=\"63\" />\r\n        </div>\r\n      </Link>\r\n    </header>\r\n\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"page-footer\">\r\n      <div className=\"logo\">\r\n        <a className=\"logo__link logo__link--light\">\r\n          <span className=\"logo__letter logo__letter--1\">W</span>\r\n          <span className=\"logo__letter logo__letter--2\">T</span>\r\n          <span className=\"logo__letter logo__letter--3\">W</span>\r\n        </a>\r\n      </div>\r\n\r\n      <div className=\"copyright\">\r\n        <p>© 2019 What to watch Ltd.</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FilterTabs = ({setFilter}) => {\r\n  const handler = value => {\r\n    setFilter(...value)\r\n  };\r\n\r\n  const buttons = [\r\n    { \"All genres\": [\"\"] },\r\n    { Comedies: [\"Comedy\"] },\r\n    { Crime: [\"Crime\"] },\r\n    { Dramas: [\"Drama\"] },\r\n    { Action: [\"Action\"] },\r\n    { \"Kids & Family\": [\"Fantasy\", \"Adventure\"] },\r\n    { Thrillers: [\"Thriller\"] }\r\n  ];\r\n\r\n  const FilterButtons = buttons.map((item, id) => {\r\n    return (\r\n      <li\r\n      onClick={() => handler(Object.values(item))}\r\n        key={id}\r\n        className=\"catalog__genres-item catalog__genres-item--active\"\r\n      >\r\n        <Link to='' className=\"catalog__genres-link\">\r\n          {Object.keys(item)}\r\n        </Link>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return <ul className=\"catalog__genres-list\">{FilterButtons}</ul>;\r\n};\r\n\r\nexport default FilterTabs;\r\n","import React from \"react\";\r\nimport FilterTabs from \"../tabs-filter/tabs-filter\";\r\nimport MovieList from \"./../movies-list/movies-list\";\r\nimport Loading from \"../loading/loading\";\r\nimport { useState } from \"react\";\r\nconst MainCatalog = ({ films, loading }) => {\r\n  const [filter, setFilter] = useState('');\r\n  return (\r\n    <section className=\"catalog\">\r\n      <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n      <FilterTabs setFilter={setFilter} />\r\n      {loading && <Loading />}\r\n      {!loading && films !== null && (\r\n        <MovieList dataFilms={films} filter={filter} />\r\n      )}\r\n\r\n      <div className=\"catalog__more\">\r\n        <button className=\"catalog__button\" type=\"button\">\r\n          Show more\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default MainCatalog;\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Fragment, useEffect } from \"react\";\n\nimport Loading from \"../../component/loading/loading\";\nimport MovieList from \"../../component/movies-list/movies-list\";\nimport MovieBigCard from \"../../component/movie-big-card/movie-big-card\";\nimport BackgroundImage from \"../../component/background-image/background-image\";\nimport { useContext } from \"react\";\nimport { FilmContext } from \"../../contexts/film-context-service\";\nimport { fetchingBooks } from \"../../action/action-creater\";\n\nimport Header from \"../../component/header/header\";\nimport Footer from \"../../component/footer/footer\";\nimport MainCatalog from \"../../component/main-catalog/main-catalog\";\n\nconst MainPage = () => {\n  const [globalState, dispatch] = useContext(FilmContext);\n  const { films, loading, error,myFilmList } = globalState;\n  console.log(myFilmList);\n  \n  useEffect(() => {\n\n    fetchingBooks(dispatch);\n  }, [dispatch]);\n\n  return (\n    <Fragment>\n      <section className=\"movie-card\">\n        <Header />\n        {loading && <Loading />}\n        {!loading && films !== null && <MovieBigCard \n        myFilmList={myFilmList}\n        dataFilms={films}\n        dispatch={dispatch} />}\n      </section>\n      <div className=\"page-content\">\n        <MainCatalog loading={loading} films={films} />\n        <Footer />\n      </div>\n    </Fragment>\n  );\n};\n\nexport default MainPage;\n","import React from 'react';\r\n\r\nconst SinglePageFilm = () => {\r\n  return (\r\n    <div>SinglePageFilm</div>\r\n  )\r\n}\r\n\r\nexport default SinglePageFilm;","import React, { Fragment } from 'react';\r\nimport Footer from '../../component/footer/footer';\r\nimport Header from '../../component/header/header';\r\nimport MovieList from '../../component/movies-list/movies-list';\r\nimport { useContext } from 'react';\r\nimport { FilmContext } from '../../contexts/film-context-service';\r\nimport { fetchingBooks } from '../../action/action-creater';\r\nimport { useEffect } from 'react';\r\n\r\nconst MyList = () => {\r\n  const [globalState, dispatch] = useContext(FilmContext);\r\n  const { myFilmList } = globalState;\r\n\r\n\r\n  \r\n  return (\r\n    <Fragment>\r\n\r\n    <div className=\"user-page\">\r\n<Header headerTitle={'My list'}/>\r\n\r\n      <section className=\"catalog\">\r\n        <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n        <MovieList dataFilms={myFilmList}/>\r\n      </section>\r\n\r\n<Footer/>\r\n    </div>\r\n  </Fragment>\r\n  )\r\n}\r\n\r\nexport default MyList;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport MainPage from './pages/main-page/main-page';\r\nimport SinglePageFilm from './pages/single-film-page/single-film-page';\r\nimport MyList from './pages/my-list/my-list';\r\n\r\n \r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/film/:id\" exact  component={SinglePageFilm}/>\r\n      <Route path=\"/mylist\" exact  component={MyList}/>\r\n      <Route path=\"/:id?\" exact  component={MainPage}/>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Routes;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./routes\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { FilmContextProvider } from \"./contexts/film-context-service\";\n\nconst App = () => {\n  return (\n    <div>\n      <FilmContextProvider>\n        <Router>\n          <Routes />\n        </Router>\n      </FilmContextProvider>\n    </div>\n  );\n};\n\nexport default App;\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}